(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{713:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eE});var i=t(5155),s=t(2115),n=t(7924),r=t(1482),l=t(5742),o=t(646),d=t(1243),c=t(3109),m=t(9153),u=t(4186),g=t(9708),p=t(2085),h=t(2596),x=t(9688);function f(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,x.QP)((0,h.$)(a))}let y=(0,p.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:r=!1,...l}=e,o=r?g.DX:"button";return(0,i.jsx)(o,{className:f(y({variant:s,size:n,className:t})),ref:a,...l})});b.displayName="Button";let v=s.forwardRef((e,a)=>{let{className:t,type:s,...n}=e;return(0,i.jsx)("input",{type:s,className:f("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});v.displayName="Input";let j=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:a,className:f("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});j.displayName="Card",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:a,className:f("flex flex-col space-y-1.5 p-6",t),...s})}).displayName="CardHeader",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:a,className:f("text-2xl font-semibold leading-none tracking-tight",t),...s})}).displayName="CardTitle",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:a,className:f("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let M=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:a,className:f("p-6 pt-0",t),...s})});M.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("div",{ref:a,className:f("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";let N=(0,p.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function k(e){let{className:a,variant:t,...s}=e;return(0,i.jsx)("div",{className:f(N({variant:t}),a),...s})}var P=t(5452),w=t(4416);let A=P.bL,K=P.l9;P.bm;let L=P.ZL,R=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(P.hJ,{className:f("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a})});R.displayName=P.hJ.displayName;let S=(0,p.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),H=s.forwardRef((e,a)=>{let{side:t="right",className:s,children:n,...r}=e;return(0,i.jsxs)(L,{children:[(0,i.jsx)(R,{}),(0,i.jsxs)(P.UC,{ref:a,className:f(S({side:t}),s),...r,children:[n,(0,i.jsxs)(P.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,i.jsx)(w.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});H.displayName=P.UC.displayName;let T=e=>{let{className:a,...t}=e;return(0,i.jsx)("div",{className:f("flex flex-col space-y-2 text-center sm:text-left",a),...t})};T.displayName="SheetHeader";let C=e=>{let{className:a,...t}=e;return(0,i.jsx)("div",{className:f("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};C.displayName="SheetFooter";let E=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(P.hE,{ref:a,className:f("text-lg font-semibold text-foreground",t),...s})});E.displayName=P.hE.displayName;let J=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(P.VY,{ref:a,className:f("text-sm text-muted-foreground",t),...s})});J.displayName=P.VY.displayName;var D=t(9912),z=t(6474),F=t(7863),_=t(5196);let B=D.bL;D.YJ;let U=D.WT,q=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,i.jsxs)(D.l9,{ref:a,className:f("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,(0,i.jsx)(D.In,{asChild:!0,children:(0,i.jsx)(z.A,{className:"h-4 w-4 opacity-50"})})]})});q.displayName=D.l9.displayName;let V=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(D.PP,{ref:a,className:f("flex cursor-default items-center justify-center py-1",t),...s,children:(0,i.jsx)(F.A,{className:"h-4 w-4"})})});V.displayName=D.PP.displayName;let I=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(D.wn,{ref:a,className:f("flex cursor-default items-center justify-center py-1",t),...s,children:(0,i.jsx)(z.A,{className:"h-4 w-4"})})});I.displayName=D.wn.displayName;let O=s.forwardRef((e,a)=>{let{className:t,children:s,position:n="popper",...r}=e;return(0,i.jsx)(D.ZL,{children:(0,i.jsxs)(D.UC,{ref:a,className:f("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[(0,i.jsx)(V,{}),(0,i.jsx)(D.LM,{className:f("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,i.jsx)(I,{})]})})});O.displayName=D.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(D.JU,{ref:a,className:f("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=D.JU.displayName;let W=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,i.jsxs)(D.q7,{ref:a,className:f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(D.VF,{children:(0,i.jsx)(_.A,{className:"h-4 w-4"})})}),(0,i.jsx)(D.p4,{children:s})]})});W.displayName=D.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(D.wv,{ref:a,className:f("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=D.wv.displayName;var G=t(64);let Y=G.bL,Q=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(G.B8,{ref:a,className:f("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});Q.displayName=G.B8.displayName;let Z=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(G.l9,{ref:a,className:f("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});Z.displayName=G.l9.displayName;let X=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(G.UC,{ref:a,className:f("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});X.displayName=G.UC.displayName;var $=t(2200);let ee={width:"100%",height:"100%"},ea={lat:3.139,lng:101.6869},et={disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0},ei=e=>{var a,t,n,r,l;let{apiKey:o,parkingSpots:d,selectedSpotId:c,onSpotSelect:m,userLocation:u}=e,g=(0,s.useMemo)(()=>(null==u?void 0:u.latitude)&&(null==u?void 0:u.longitude)?{lat:u.latitude,lng:u.longitude}:ea,[null==u?void 0:u.latitude,null==u?void 0:u.longitude]),{isLoaded:p,loadError:h}=(0,$.KD)({googleMapsApiKey:o}),[x,f]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),v=(0,s.useRef)(null),j=(0,s.useCallback)(e=>{v.current=e,f(e)},[]),M=e=>{b(e);let a=d.find(a=>a.id===e);a&&m&&m(a)},N=e=>({path:google.maps.SymbolPath.CIRCLE,fillColor:e.isLegal?"#4ade80":"#ef4444",fillOpacity:.9,strokeWeight:2,strokeColor:"#ffffff",scale:8,label:{text:"".concat(e.walkTime,"m"),color:"#ffffff",fontSize:"10px",fontWeight:"bold"}});return h?(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:"Error loading Google Maps"}):p?(0,i.jsxs)($.u6,{mapContainerStyle:ee,center:g,zoom:(null==u?void 0:u.latitude)?15:14,options:et,onLoad:j,children:[(null==u?void 0:u.latitude)&&(null==u?void 0:u.longitude)&&(0,i.jsx)($.pH,{position:{lat:u.latitude,lng:u.longitude},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:8},zIndex:1e3,title:"Your Location"}),d.map(e=>(0,i.jsx)($.pH,{position:{lat:e.lat,lng:e.lng},onClick:()=>M(e.id),icon:N(e),animation:e.id===c?google.maps.Animation.BOUNCE:void 0},e.id)),null!==y&&(0,i.jsx)($.Fu,{position:{lat:(null===(a=d.find(e=>e.id===y))||void 0===a?void 0:a.lat)||0,lng:(null===(t=d.find(e=>e.id===y))||void 0===t?void 0:t.lng)||0},onCloseClick:()=>b(null),children:(0,i.jsxs)("div",{className:"p-2 max-w-xs",children:[(0,i.jsx)("h3",{className:"font-medium text-sm",children:null===(n=d.find(e=>e.id===y))||void 0===n?void 0:n.name}),(0,i.jsx)("p",{className:"text-xs text-gray-600",children:null===(r=d.find(e=>e.id===y))||void 0===r?void 0:r.address}),(0,i.jsxs)("p",{className:"text-xs mt-1",children:["RM",null===(l=d.find(e=>e.id===y))||void 0===l?void 0:l.pricePerHour,"/hr"]})]})})]}):(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Loading Google Maps..."})]})})};var es=t(1164),en=t(4200),er=t(9934),el=t(1284);function eo(e){return e<1?"".concat(Math.round(1e3*e),"m"):"".concat(e.toFixed(1),"km")}function ed(e){return Math.PI/180*e}var ec=t(9106);let em={"turn-jalan-bukit-bintang":{url:(0,ec.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Turn right onto Jalan Bukit Bintang",contributor:"Local user: Ahmad",timestamp:"2 weeks ago"},"pavilion-entrance":{url:(0,ec.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Pavilion mall entrance - look for the parking sign",contributor:"Local user: Sarah",timestamp:"1 month ago"},"klcc-approach":{url:(0,ec.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"KLCC approach view - parking entrance ahead",contributor:"Local user: Michael",timestamp:"3 weeks ago"},"times-square-entrance":{url:(0,ec.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Berjaya Times Square parking entrance",contributor:"Local user: Aisha",timestamp:"2 months ago"},"uptown-damansara-junction":{url:(0,ec.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Junction to Uptown Damansara",contributor:"Local user: Raj",timestamp:"1 week ago"},"kampung-pandan-approach":{url:(0,ec.h)("/place1/6183812248728881309.jpg"),caption:"Approaching Kampung Pandan parking area",contributor:"ParkLah Team",timestamp:"4 days ago"},"kampung-pandan-entrance":{url:(0,ec.h)("/place1/6183812248728881310.jpg"),caption:"Main entrance to Kampung Pandan outdoor parking",contributor:"ParkLah Team",timestamp:"4 days ago"},"kampung-pandan-lots":{url:(0,ec.h)("/place1/6183812248728881312.jpg"),caption:"Available parking spots at Kampung Pandan outdoor parking",contributor:"ParkLah Team",timestamp:"4 days ago"},"roadside-approach":{url:(0,ec.h)("/place2/6183812248728881313.jpg"),caption:"Approaching Kampung Pandan roadside parking area",contributor:"ParkLah Team",timestamp:"3 days ago"},"roadside-parking-zone":{url:(0,ec.h)("/place2/6183812248728881314.jpg"),caption:"Legal roadside parking zone in Kampung Pandan",contributor:"ParkLah Team",timestamp:"3 days ago"},"roadside-payment":{url:(0,ec.h)("/place2/6183812248728881315.jpg"),caption:"Payment machine for Kampung Pandan roadside parking",contributor:"ParkLah Team",timestamp:"3 days ago"},"entier-entrance":{url:(0,ec.h)("/place3/6183812248728881468.jpg"),caption:"Main entrance to Alila Bangsar parking for Entier French Dining",contributor:"ParkLah Team",timestamp:"2 days ago"}},eu={"Pavilion KL Parking":["turn-jalan-bukit-bintang","pavilion-entrance"],"KLCC Suria Mall Parking":["klcc-approach"],"Berjaya Times Square Parking":["times-square-entrance"],"Starling Mall Parking":["uptown-damansara-junction"],"Uptown Street Parking":["uptown-damansara-junction"],"Outdoor Parking - Kampung Pandan":["kampung-pandan-approach","kampung-pandan-entrance","kampung-pandan-lots"],"Kampung Pandan Roadside Parking":["roadside-approach","roadside-parking-zone","roadside-payment"],"Entier French Dining Parking":["entier-entrance"]},eg=(e,a,t)=>{switch(e){case 21:return function(e,a){let t=eu[e]||[];switch(a){case"driving":return[{instruction:"Head toward Jalan Kampung Pandan",distance:.3,time:2,isKey:!1},{instruction:"Turn right onto Jalan Kampung Pandan",distance:.8,time:3,isKey:!1},{instruction:"Continue straight for 400m",distance:.4,time:2,isKey:!1},{instruction:"Look for the open parking area on your right",distance:.2,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main entrance",distance:.1,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Park in any available space marked with white lines",distance:.05,time:2,isKey:!0,imageKey:t[2]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Head south-east on the pedestrian walkway",distance:.2,time:3,isKey:!1},{instruction:"Cross at the pedestrian crossing",distance:.1,time:2,isKey:!1},{instruction:"Continue straight on Jalan Kampung Pandan",distance:.3,time:4,isKey:!1},{instruction:"The outdoor parking area will be visible on your right",distance:.1,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Walk toward the entrance",distance:.1,time:2,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Walk to the nearest bus stop on Jalan Kampung Pandan (150m)",distance:.15,time:2,isKey:!1},{instruction:"Take bus T250 toward Kampung Pandan",distance:1.2,time:10,isKey:!1},{instruction:"Exit at Kampung Pandan Central stop",distance:.1,time:1,isKey:!1},{instruction:"Walk east for 200m",distance:.2,time:3,isKey:!1},{instruction:"The outdoor parking area will be visible ahead",distance:.1,time:2,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main entrance",distance:.05,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return ep(e,"driving")}}(a,t);case 22:return function(e,a){let t=eu[e]||[];switch(a){case"driving":return[{instruction:"Head toward Jalan Kampung Pandan Dalam",distance:.4,time:2,isKey:!1},{instruction:"Continue straight past the small market",distance:.3,time:1,isKey:!1},{instruction:"Look for the designated roadside parking zone",distance:.2,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Park parallel to the curb in marked spaces only",distance:.1,time:2,isKey:!0,imageKey:t[1]||null},{instruction:"Pay at the parking meter located every 50m",distance:.05,time:3,isKey:!0,imageKey:t[2]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Walk east on the main street",distance:.15,time:2,isKey:!1},{instruction:"Turn right at the convenience store",distance:.15,time:2,isKey:!1},{instruction:"Continue straight for 200m",distance:.2,time:3,isKey:!1},{instruction:"Look for the roadside parking area",distance:.1,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"The parking zone is clearly marked with white lines",distance:.05,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Take bus B112 toward Kampung Pandan",distance:1.5,time:12,isKey:!1},{instruction:"Exit at the Kampung Pandan Dalam stop",distance:.1,time:1,isKey:!1},{instruction:"Walk north for 150m",distance:.15,time:2,isKey:!1},{instruction:"Turn right at the intersection",distance:.1,time:1,isKey:!1},{instruction:"The roadside parking area will be on your left",distance:.1,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Look for cars parked along the designated zones",distance:.05,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return ep(e,"driving")}}(a,t);case 23:return function(e,a){let t=eu[e]||[];switch(a){case"driving":return[{instruction:"Head toward Jalan Ang Seng",distance:.3,time:2,isKey:!1},{instruction:"Turn into the Alila Bangsar hotel entrance",distance:.2,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Follow signs to the hotel parking structure",distance:.1,time:1,isKey:!1},{instruction:"Take parking ticket at barrier",distance:.05,time:1,isKey:!0},{instruction:"Park on available levels B1-B3",distance:.05,time:2,isKey:!1},{instruction:"Take elevator to Level 41 for Entier French Dining",distance:0,time:3,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Walk toward Alila Bangsar hotel entrance",distance:.2,time:3,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main lobby doors",distance:.1,time:1,isKey:!1},{instruction:"Take the elevator directly to Level 41",distance:.05,time:2,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Take LRT to Bangsar station",distance:1,time:15,isKey:!1},{instruction:"Exit station toward Jalan Ang Seng",distance:.1,time:2,isKey:!1},{instruction:"Walk to Alila Bangsar hotel entrance (200m)",distance:.2,time:3,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main lobby",distance:.05,time:1,isKey:!1},{instruction:"Take the elevator to Level 41",distance:.05,time:2,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return ep(e,"driving")}}(a,t);default:return ep(a,t)}};function ep(e,a){let t=eu[e]||[];switch(a){case"driving":return[{instruction:"Exit current location to main road",distance:.2,time:1,isKey:!1},{instruction:"Continue toward destination",distance:.8,time:3,isKey:!1},{instruction:"Follow signs to parking area",distance:.5,time:4,isKey:!0,imageKey:t[0]||null},{instruction:"Turn into parking entrance",distance:.1,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Look for available spots",distance:.1,time:2,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Walk toward main street",distance:.1,time:2,isKey:!1},{instruction:"Continue straight for 400m",distance:.4,time:6,isKey:!1},{instruction:"Cross at the pedestrian crossing",distance:.1,time:2,isKey:!1},{instruction:"Follow signs to destination",distance:.3,time:5,isKey:!0,imageKey:t[0]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Walk to the nearest transit stop",distance:.2,time:3,isKey:!1},{instruction:"Take the next available transport toward destination",distance:1.5,time:15,isKey:!1},{instruction:"Exit at the stop nearest to destination",distance:.1,time:1,isKey:!1},{instruction:"Walk toward destination",distance:.3,time:5,isKey:!0,imageKey:t[0]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return[{instruction:"Directions not available for this travel mode",distance:0,time:0,isKey:!1}]}}function eh(e){let{open:a,onOpenChange:t,spot:n,userLocation:r}=e,[l,o]=(0,s.useState)("driving"),[d,c]=(0,s.useState)([]),[m,g]=(0,s.useState)([]),p=(0,s.useMemo)(()=>n?eg(n.id,n.name,l):[],[n,l]);if((0,s.useEffect)(()=>{c(p)},[p]),!n)return null;let h=(0,s.useMemo)(()=>d.reduce((e,a)=>e+a.distance,0),[d]),x=(0,s.useMemo)(()=>d.reduce((e,a)=>e+a.time,0),[d]),f=(e=>{switch(e){case"driving":default:return{icon:(0,i.jsx)(es.A,{size:16}),label:"Drive",timeMultiplier:1,costRange:(null==n?void 0:n.pricePerHour)||"RM5-10/hour"};case"walking":return{icon:(0,i.jsx)(en.A,{size:16}),label:"Walk",timeMultiplier:1.2,costRange:"Free"};case"transit":return{icon:(0,i.jsx)(er.A,{size:16}),label:"Transit",timeMultiplier:.8,costRange:"RM2-5"}}})(l),y=e=>{m.includes(e)?g(m.filter(a=>a!==e)):g([...m,e])};return(0,i.jsx)(A,{open:a,onOpenChange:t,children:(0,i.jsxs)(H,{side:"right",className:"w-full max-w-full p-3 overflow-y-auto",children:[(0,i.jsxs)(T,{className:"text-left",children:[(0,i.jsx)(E,{className:"text-lg flex justify-between items-center",children:(0,i.jsxs)("span",{children:["Navigation to ",n.name]})}),(0,i.jsx)(J,{className:"flex items-center text-sm",children:(0,i.jsx)("span",{children:n.address})})]}),(0,i.jsx)("div",{className:"my-4",children:(0,i.jsxs)(Y,{defaultValue:"directions",className:"w-full",children:[(0,i.jsxs)(Q,{className:"grid grid-cols-2 mb-2 w-full",children:[(0,i.jsx)(Z,{value:"directions",children:"Directions"}),(0,i.jsx)(Z,{value:"details",children:"Details"})]}),(0,i.jsxs)(X,{value:"directions",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex border rounded-md overflow-hidden w-full",children:[(0,i.jsxs)(b,{onClick:()=>o("driving"),variant:"driving"===l?"default":"ghost",className:"flex-1 rounded-none h-9 gap-1 px-1 text-xs",children:[(0,i.jsx)(es.A,{size:16}),(0,i.jsx)("span",{className:"text-xs",children:"Drive"})]}),(0,i.jsxs)(b,{onClick:()=>o("walking"),variant:"walking"===l?"default":"ghost",className:"flex-1 rounded-none h-9 gap-1 px-1 text-xs",children:[(0,i.jsx)(en.A,{size:16}),(0,i.jsx)("span",{className:"text-xs",children:"Walk"})]}),(0,i.jsxs)(b,{onClick:()=>o("transit"),variant:"transit"===l?"default":"ghost",className:"flex-1 rounded-none h-9 gap-1 px-1 text-xs",children:[(0,i.jsx)(er.A,{size:16}),(0,i.jsx)("span",{className:"text-xs",children:"Transit"})]})]}),(0,i.jsx)(j,{className:"bg-gray-50",children:(0,i.jsx)(M,{className:"p-2",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"text-sm font-medium",children:[eo(h)," total"]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Math.round(x*f.timeMultiplier)," min (",f.label,")"]})]}),(0,i.jsxs)(k,{variant:"outline",className:"bg-white",children:[(0,i.jsx)(u.A,{size:12,className:"mr-1"}),n.estimatedDriveTimeMin," min"]})]})})}),(0,i.jsx)("div",{className:"space-y-2",children:d.map((e,a)=>{let t=m.includes(a),s=e.isKey&&e.imageKey&&em[e.imageKey];return(0,i.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,i.jsxs)("div",{className:"p-3 flex justify-between items-center cursor-pointer ".concat(s?"hover:bg-gray-50":""),onClick:()=>s?y(a):null,children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"bg-gray-200 h-6 w-6 rounded-full flex items-center justify-center mr-3 text-xs",children:a+1}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm",children:e.instruction}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:[eo(e.distance)," \xb7 ",e.time," min"]})]})]}),s&&(0,i.jsx)(z.A,{size:18,className:"transition-transform ".concat(t?"rotate-180":"")})]}),s&&t&&e.imageKey&&em[e.imageKey]&&(0,i.jsxs)("div",{className:"px-3 pb-3",children:[(0,i.jsx)("div",{className:"relative h-32 w-full rounded-md overflow-hidden",children:(0,i.jsx)("img",{src:em[e.imageKey].url,alt:em[e.imageKey].caption,className:"object-cover w-full h-full"})}),(0,i.jsxs)("div",{className:"mt-2 text-xs",children:[(0,i.jsx)("p",{className:"font-medium",children:em[e.imageKey].caption}),(0,i.jsxs)("p",{className:"text-gray-500 mt-1",children:[em[e.imageKey].contributor," \xb7 ",em[e.imageKey].timestamp]})]})]})]},a)})}),(0,i.jsxs)("div",{className:"bg-blue-50 p-2 rounded-md text-xs flex items-start",children:[(0,i.jsx)(el.A,{size:14,className:"text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-blue-800",children:"Images are provided by the ParkLah community to help with navigation."}),(0,i.jsx)("p",{className:"text-blue-600 mt-1",children:"Want to contribute? Take photos of key locations when you park and share them with others!"})]})]})]}),(0,i.jsx)(X,{value:"details",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Entrances"}),n.entrances&&n.entrances.length>0?(0,i.jsx)("div",{className:"space-y-2",children:n.entrances.map((e,a)=>(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]},a))}):(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"No entrance information available"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Pricing"}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-sm",children:"Hourly rate:"}),(0,i.jsxs)("span",{className:"text-sm font-medium",children:["RM",n.pricePerHour,".00"]})]}),(0,i.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,i.jsx)("span",{className:"text-sm",children:"Estimated 2 hours:"}),(0,i.jsxs)("span",{className:"text-sm font-medium",children:["RM",2*n.pricePerHour,".00"]})]})]})]}),(0,i.jsx)(b,{variant:"outline",className:"w-full",children:"Share this parking location"})]})})]})}),(0,i.jsx)(C,{className:"justify-center mt-2 pb-safe",children:(0,i.jsx)(b,{className:"w-full h-10",size:"sm",children:"Open in Google Maps"})})]})})}let ex=P.bL;P.l9;let ef=P.ZL,ey=P.bm,eb=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(P.hJ,{ref:a,className:f("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});eb.displayName=P.hJ.displayName;let ev=s.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,i.jsxs)(ef,{children:[(0,i.jsx)(eb,{}),(0,i.jsxs)(P.UC,{ref:a,className:f("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,(0,i.jsxs)(P.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(w.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ev.displayName=P.UC.displayName;let ej=e=>{let{className:a,...t}=e;return(0,i.jsx)("div",{className:f("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};ej.displayName="DialogHeader";let eM=e=>{let{className:a,...t}=e;return(0,i.jsx)("div",{className:f("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};eM.displayName="DialogFooter";let eN=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(P.hE,{ref:a,className:f("text-lg font-semibold leading-none tracking-tight",t),...s})});eN.displayName=P.hE.displayName;let ek=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)(P.VY,{ref:a,className:f("text-sm text-muted-foreground",t),...s})});ek.displayName=P.VY.displayName;let eP=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,i.jsx)("textarea",{className:f("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});eP.displayName="Textarea";var ew=t(1497),eA=t(7939),eK=t(2486),eL=t(7930),eR=t(3861);let eS=[{id:"1",senderId:"ANON-123",receiverId:"USER-1",message:"Hi, you're blocking my car at Pavilion B2. Can you move it?",timestamp:new Date("2025-05-28T14:30:00"),isRead:!1},{id:"2",senderId:"ANON-456",receiverId:"USER-1",message:"Your headlights are on in the KLCC parking lot.",timestamp:new Date("2025-05-28T15:45:00"),isRead:!1}],eH=function(){let[e,a]=(0,s.useState)(!1),[t,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(null),[o,d]=(0,s.useState)(""),[c,m]=(0,s.useState)(eS),[u,g]=(0,s.useState)(0),[p,h]=(0,s.useState)("inbox");(0,s.useEffect)(()=>{g(c.filter(e=>!e.isRead).length)},[c]);let x=e=>{e&&e.startsWith("PARKLAH-")&&(l(e.substring(8)),a(!1),n(!0),h("compose"))},f=e=>{m(c.map(a=>a.id===e?{...a,isRead:!0}:a))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"app-button-container",children:[(0,i.jsxs)(b,{className:"app-button app-button-left",variant:"default",onClick:()=>n(!0),children:[(0,i.jsx)(ew.A,{size:16,className:"mr-2"}),(0,i.jsx)("span",{className:"text-xs",children:"Messages"}),u>0&&(0,i.jsx)(k,{className:"absolute -top-2 -right-2 bg-red-500 h-5 w-5 flex items-center justify-center p-0",children:u})]}),(0,i.jsxs)(b,{className:"app-button app-button-right",variant:"secondary",onClick:()=>a(!0),children:[(0,i.jsx)(eA.A,{size:16,className:"mr-2"}),(0,i.jsx)("span",{className:"text-xs",children:"Scan QR"})]})]}),(0,i.jsx)(ex,{open:e,onOpenChange:a,children:(0,i.jsxs)(ev,{className:"max-w-full h-[100vh] sm:min-h-fit p-0 sm:p-6 flex flex-col",children:[(0,i.jsx)(ej,{className:"p-4 border-b bg-white z-10",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(eN,{children:"Scan ParkLah QR Code"}),(0,i.jsx)(ek,{children:"Scan the QR code on another driver's car to send them an anonymous message."})]}),(0,i.jsx)(ey,{asChild:!0,children:(0,i.jsx)(b,{variant:"ghost",size:"icon",children:(0,i.jsx)(w.A,{size:18})})})]})}),(0,i.jsx)("div",{className:"p-4 flex flex-col flex-1 overflow-y-auto",children:(0,i.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center flex-1 flex flex-col justify-center",children:[(0,i.jsx)(eA.A,{size:64,className:"mx-auto mb-4 text-gray-400"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Camera access would be requested here"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(b,{variant:"outline",className:"w-full",onClick:()=>x("PARKLAH-12345"),children:"Simulate Scan: Car #12345"}),(0,i.jsx)(b,{variant:"outline",className:"w-full",onClick:()=>x("PARKLAH-67890"),children:"Simulate Scan: Car #67890"})]})]})}),(0,i.jsx)("p",{className:"text-xs text-center text-gray-500 p-4 border-t mt-auto",children:"QR codes can be found on the ParkLah sticker in the car window"})]})}),(0,i.jsx)(ex,{open:t,onOpenChange:n,children:(0,i.jsxs)(ev,{className:"max-w-full h-[100vh] sm:min-h-fit p-0 sm:p-6 flex flex-col",children:[(0,i.jsx)(ej,{className:"p-4 border-b bg-white z-10",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(eN,{children:"compose"===p?"Message to Driver #".concat(r):"Your Messages"}),"compose"===p?(0,i.jsx)(b,{variant:"ghost",size:"icon",onClick:()=>{h("inbox"),l(null),d("")},children:(0,i.jsx)(w.A,{size:18})}):(0,i.jsx)(ey,{asChild:!0,children:(0,i.jsx)(b,{variant:"ghost",size:"icon",children:(0,i.jsx)(w.A,{size:18})})})]})}),"compose"===p?(0,i.jsxs)("div",{className:"space-y-4 p-4 flex flex-col flex-1 overflow-y-auto",children:[(0,i.jsx)(eP,{placeholder:"Type your message here...",className:"flex-1 min-h-[200px]",value:o,onChange:e=>d(e.target.value)}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"This message will be sent anonymously. The driver will not see your personal information."}),(0,i.jsxs)(eM,{className:"pt-4 mt-auto",children:[(0,i.jsx)(ey,{asChild:!0,children:(0,i.jsx)(b,{variant:"outline",children:"Cancel"})}),(0,i.jsxs)(b,{onClick:()=>{o.trim()&&r&&(m([...c,{id:Date.now().toString(),senderId:"USER-1",receiverId:r,message:o,timestamp:new Date,isRead:!1}]),d(""),h("inbox"),l(null))},disabled:!o.trim(),children:[(0,i.jsx)(eK.A,{className:"mr-2 h-4 w-4"}),"Send Message"]})]})]}):(0,i.jsxs)(Y,{defaultValue:"inbox",className:"flex flex-col flex-1 overflow-hidden",children:[(0,i.jsxs)(Q,{className:"grid grid-cols-2 mb-2 sticky top-0 bg-white z-10",children:[(0,i.jsx)(Z,{value:"inbox",children:"Inbox"}),(0,i.jsx)(Z,{value:"sent",children:"Sent"})]}),(0,i.jsx)(X,{value:"inbox",className:"flex-1 overflow-y-auto p-4",children:c.filter(e=>"USER-1"===e.receiverId).length>0?(0,i.jsx)("div",{className:"space-y-3",children:c.filter(e=>"USER-1"===e.receiverId).sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).map(e=>(0,i.jsxs)("div",{className:"p-3 rounded-lg ".concat(e.isRead?"bg-gray-100":"bg-blue-50 border-l-4 border-blue-500"),onClick:()=>f(e.id),children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(eL.A,{size:16,className:"mr-1"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Anonymous Driver"})]}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,i.jsx)("p",{className:"text-sm",children:e.message})]},e.id))}):(0,i.jsxs)("div",{className:"text-center py-10",children:[(0,i.jsx)(eR.A,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,i.jsx)("p",{className:"text-gray-500",children:"No messages in your inbox"})]})}),(0,i.jsx)(X,{value:"sent",className:"flex-1 overflow-y-auto p-4",children:c.filter(e=>"USER-1"===e.senderId).length>0?(0,i.jsx)("div",{className:"space-y-3",children:c.filter(e=>"USER-1"===e.senderId).sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).map(e=>(0,i.jsxs)("div",{className:"p-3 rounded-lg bg-gray-100",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("span",{className:"text-sm font-medium",children:["To: Driver #",e.receiverId]})}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,i.jsx)("p",{className:"text-sm",children:e.message})]},e.id))}):(0,i.jsxs)("div",{className:"text-center py-10",children:[(0,i.jsx)(eK.A,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,i.jsx)("p",{className:"text-gray-500",children:"No messages sent yet"})]})})]})]})})]})},eT=[{id:1,name:"Pavilion KL Parking",address:"Jalan Bukit Bintang, Bukit Bintang",lat:3.1492139,lng:101.7135278,capacity:1800,pricePerHour:6,isLegal:!0,type:"mall",walkTime:2,peakHours:"10AM-10PM",availabilityDescription:"Good chance of finding parking",findingProbability:75,trafficFrequency:[20,15,10,8,12,25,45,65,80,85,90,95,85,75,70,80,85,90,85,70,55,40,30,25],entrances:[{name:"Main Entrance",description:"Via Jalan Bukit Bintang"},{name:"Side Entrance",description:"Via Jalan Raja Chulan"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Moderate"}],tips:"Best to arrive before 11AM on weekends. Valet service available."},{id:2,name:"KLCC Suria Mall Parking",address:"Kuala Lumpur City Centre, 50088",lat:3.1573751,lng:101.7123808,capacity:5400,pricePerHour:5,isLegal:!0,type:"mall",walkTime:5,peakHours:"9AM-11PM",availabilityDescription:"Large parking complex with many spots",findingProbability:85,trafficFrequency:[15,10,8,5,10,20,40,70,85,95,98,95,90,85,80,85,90,95,90,75,60,45,30,20],entrances:[{name:"P1 Entrance",description:"Via Jalan Ampang"},{name:"P2 Entrance",description:"Via Persiaran KLCC"},{name:"Mall Entrance",description:"Direct mall access"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Moderate"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Very crowded on weekends. Use P2 entrance for less congestion."},{id:3,name:"Street Parking - Jalan Alor",address:"Jalan Alor, Bukit Bintang, 50200",lat:3.1458721907041074,lng:101.70890872430671,capacity:40,pricePerHour:3,isLegal:!0,type:"street",walkTime:1,peakHours:"6PM-12AM",availabilityDescription:"Few spots, arrive early",findingProbability:35,trafficFrequency:[10,8,5,5,8,15,25,35,40,45,50,55,60,65,70,75,85,95,90,80,70,50,30,15],entrances:[{name:"From Jalan Bukit Bintang",description:"Turn right into Jalan Alor"},{name:"From Jalan Changkat",description:"Direct access"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Low"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-2AM)",status:"High"}],tips:"Food street gets very busy after 7PM. Limited spots, arrive early."},{id:4,name:"Unauthorized - Jalan P. Ramlee",address:"Jalan P. Ramlee, Golden Triangle, 50250",lat:3.1550234,lng:101.7086407,capacity:15,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:2,peakHours:"High risk during office hours",availabilityDescription:"Risky but often available",findingProbability:80,trafficFrequency:[5,5,5,5,10,20,40,80,90,85,80,75,70,75,80,85,90,85,70,50,30,20,10,8],entrances:[{name:"Roadside",description:"⚠️ Risk of summons RM50-150"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Not recommended. High chance of summons during business hours."},{id:5,name:"Berjaya Times Square Parking",address:"1, Jalan Imbi, Bukit Bintang, 55100",lat:3.142222,lng:101.710556,capacity:2200,pricePerHour:4,isLegal:!0,type:"mall",walkTime:4,peakHours:"11AM-9PM",availabilityDescription:"Plenty of spaces",findingProbability:90,trafficFrequency:[15,12,10,8,12,20,35,50,60,65,70,75,70,65,60,65,70,75,70,60,45,35,25,20],entrances:[{name:"Main Entrance",description:"Via Jalan Imbi"},{name:"West Entrance",description:"Via Jalan Pudu"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Large capacity, usually has spaces available. Good backup option."},{id:6,name:"Starling Mall Parking",address:"No. 6, Jalan SS 21/37, Damansara Utama, 47400",lat:3.134716,lng:101.623136,capacity:1800,pricePerHour:3,isLegal:!0,type:"mall",walkTime:3,peakHours:"11AM-9PM",availabilityDescription:"Good availability on weekdays",findingProbability:80,trafficFrequency:[10,8,5,5,10,20,40,60,70,75,80,85,80,75,70,75,85,90,85,70,50,35,20,10],entrances:[{name:"Main Entrance",description:"Via SS21/37"},{name:"LG Entrance",description:"Via SS21/1A"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Validate parking at the mall information counter for discounted rates."},{id:7,name:"Uptown Street Parking",address:"Jalan SS 21/39, Damansara Utama, 47400",lat:3.134444,lng:101.621389,capacity:120,pricePerHour:2,isLegal:!0,type:"street",walkTime:1,peakHours:"12PM-2PM, 7PM-10PM",availabilityDescription:"Limited street parking",findingProbability:45,trafficFrequency:[15,10,8,5,10,30,50,70,80,70,65,75,80,65,60,70,85,95,90,80,60,40,25,15],entrances:[{name:"Roadside",description:"Along Jalan SS21/39"},{name:"Side Streets",description:"Around Uptown area"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Moderate"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Moderate"}],tips:"Pay using Touch 'n Go eWallet or the parking machine. Active enforcement in this area."},{id:8,name:"1 Utama Shopping Centre",address:"1, Lebuh Bandar Utama, Bandar Utama, 47800",lat:3.14815,lng:101.6158417,capacity:1e4,pricePerHour:3,isLegal:!0,type:"mall",walkTime:7,peakHours:"11AM-10PM",availabilityDescription:"Massive parking complex",findingProbability:95,trafficFrequency:[10,5,5,5,8,15,35,55,70,80,85,90,95,90,85,80,85,90,80,65,50,35,25,15],entrances:[{name:"New Wing",description:"Via Lebuh Bandar Utama"},{name:"Old Wing",description:"Via Dataran Bandar Utama"},{name:"Centre Court",description:"Via Lebuh Bandar Utama"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Moderate"}],tips:"Use the LG parking floors for better availability. E-payment options available."},{id:9,name:"Paradigm Mall PJ",address:"1, Jalan SS 7/26A, Kelana Jaya, 47301",lat:3.105083,lng:101.595944,capacity:4500,pricePerHour:3,isLegal:!0,type:"mall",walkTime:5,peakHours:"12PM-9PM",availabilityDescription:"Good availability most times",findingProbability:85,trafficFrequency:[10,8,5,5,8,20,35,45,60,70,80,85,80,75,70,75,85,90,80,65,50,30,20,10],entrances:[{name:"Main Entrance",description:"Via Jalan SS7/26A"},{name:"East Entrance",description:"Via Lebuhraya Damansara-Puchong"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Higher floors usually have more available spaces. Free parking with minimum purchase."},{id:10,name:"Atria Shopping Gallery",address:"Jalan SS 22/23, Damansara Jaya, 47400",lat:3.12725,lng:101.616411,capacity:1700,pricePerHour:2,isLegal:!0,type:"mall",walkTime:3,peakHours:"12PM-8PM",availabilityDescription:"Usually has available spaces",findingProbability:80,trafficFrequency:[8,5,5,5,10,20,30,45,55,65,70,75,70,65,60,65,75,80,70,55,40,25,15,10],entrances:[{name:"Main Entrance",description:"Via Jalan SS22/23"},{name:"Side Entrance",description:"Via Jalan SS22/19"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"First hour free with validation. Weekend parking can get crowded during events."},{id:11,name:"Unauthorized - Jalan Raja Laut",address:"Jalan Raja Laut, 50350",lat:3.16046,lng:101.695206,capacity:12,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:4,peakHours:"8AM-6PM",availabilityDescription:"Often available but high risk of summons",findingProbability:80,trafficFrequency:[5,5,5,5,10,30,50,80,90,85,80,75,70,75,80,85,90,85,70,50,30,20,10,5],entrances:[{name:"Roadside",description:"Along Jalan Raja Laut – frequent patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Very risky—avoid during peak enforcement hours."},{id:12,name:"Unauthorized - Jalan Ipoh",address:"Jalan Ipoh, 51208",lat:3.174444,lng:101.686111,capacity:8,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:8,peakHours:"7AM-5PM",availabilityDescription:"Spots usually free but heavily monitored",findingProbability:60,trafficFrequency:[10,10,10,10,15,25,40,60,75,80,85,80,75,70,65,70,75,80,70,50,30,20,15,10],entrances:[{name:"Side Alley",description:"Between Jalan Ipoh and Jalan Sultan Azlan Shah"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Enforcement tends to slack off after 6PM but still use at your own risk."},{id:13,name:"Unauthorized - Jalan Pudu (near Pudu Sentral)",address:"Jalan Pudu, Pudu Sentral, 55100",lat:3.14556,lng:101.70083,capacity:10,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:3,peakHours:"6AM-2PM",availabilityDescription:"Rarely full but constant risk of summons",findingProbability:70,trafficFrequency:[15,15,15,15,20,35,55,75,85,80,75,70,65,60,55,60,65,70,60,45,30,20,15,10],entrances:[{name:"Bus Terminal Side",description:"Between Pudu Sentral entrance and main road"}],busyTimes:[{time:"Morning (6AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"Moderate Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Summons officers patrol continuously—consider other options."},{id:14,name:"Unauthorized - Jalan Sultan Ismail",address:"Jalan Sultan Ismail, 50250",lat:3.1552829,lng:101.7053617,capacity:9,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:2,peakHours:"9AM-7PM",availabilityDescription:"Often empty but heavy fines apply",findingProbability:65,trafficFrequency:[20,20,20,20,25,45,65,85,95,90,85,80,75,70,65,70,75,80,70,55,35,25,20,15],entrances:[{name:"Frontage",description:"Roadside near Grand Millennium Hotel"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Fines here can exceed RM150—park elsewhere if possible."},{id:15,name:"Unauthorized - Jalan Sultan Mohammed",address:"Jalan Sultan Mohammed, 50050",lat:3.1418658,lng:101.6954367,capacity:7,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:5,peakHours:"10AM-4PM",availabilityDescription:"Frequent openings but patrols are regular",findingProbability:60,trafficFrequency:[10,10,10,10,20,40,60,80,90,85,80,75,70,65,60,65,70,75,65,50,30,20,15,10],entrances:[{name:"Side Lane",description:"Opposite Central Market side street"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Best avoided—central enforcement is strict in this area."},{id:16,name:"Unauthorized - Jalan SS 2/1",address:"Jalan SS 2/1, SS2, 47300 Petaling Jaya",lat:3.1112,lng:101.611,capacity:10,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:5,peakHours:"8AM-6PM",availabilityDescription:"Often available but high risk of summons",findingProbability:80,trafficFrequency:[5,5,5,5,10,20,40,80,90,85,80,75,70,75,80,85,90,85,70,50,30,20,10,5],entrances:[{name:"Roadside",description:"Along SS2/1 – frequent patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Very risky—avoid during peak enforcement hours."},{id:17,name:"Unauthorized - Jalan 14/1",address:"Jalan 14/1, Seksyen 14, 46100 Petaling Jaya",lat:3.1050201,lng:101.6369018,capacity:8,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:7,peakHours:"7AM-5PM",availabilityDescription:"Spots usually free but heavily monitored",findingProbability:60,trafficFrequency:[10,10,10,10,15,25,40,60,75,80,85,80,75,70,65,70,75,80,70,50,30,20,15,10],entrances:[{name:"Side Lane",description:"Between Jalan 14/1 and Jalan 14/3"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Enforcement tends to slack off after hours but still at your own risk."},{id:18,name:"Unauthorized - Jalan Gasing",address:"Jalan Gasing, 46000 Petaling Jaya",lat:3.0983,lng:101.652339,capacity:12,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:6,peakHours:"9AM-7PM",availabilityDescription:"Often empty but fines apply",findingProbability:65,trafficFrequency:[20,20,20,20,25,45,65,85,95,90,85,80,75,70,65,70,75,80,70,55,35,25,20,15],entrances:[{name:"Roadside",description:"Opposite commercial shops – heavy patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Best avoided during office hours."},{id:19,name:"Unauthorized - Jalan Templer",address:"Jalan Templer, 46000 Petaling Jaya",lat:3.0878383,lng:101.6528161,capacity:7,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:8,peakHours:"6AM-4PM",availabilityDescription:"Frequent openings but patrols are regular",findingProbability:60,trafficFrequency:[10,10,10,10,20,40,60,80,90,85,80,75,70,65,60,65,70,75,65,50,30,20,15,10],entrances:[{name:"Frontage",description:"Roadside near banks – vigilant enforcement"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Summons often exceed RM100 here."},{id:20,name:"Unauthorized - Jalan SS 21/1–62",address:"Jalan SS 21/1–62, 47400 Petaling Jaya",lat:3.1367399,lng:101.6207152,capacity:9,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:4,peakHours:"8AM-6PM",availabilityDescription:"Rarely full but constant risk of summons",findingProbability:70,trafficFrequency:[15,15,15,15,20,35,55,75,85,80,75,70,65,60,55,60,65,70,60,45,30,20,15,10],entrances:[{name:"Roadside",description:"Along SS21 – regular patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"Moderate Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Officers patrol continuously—consider legal alternatives."},{id:21,name:"Outdoor Parking - Kampung Pandan",address:"Kampung Pandan, 55100 Kuala Lumpur",lat:3.125306,lng:101.673972,capacity:30,pricePerHour:2,isLegal:!0,type:"outdoor",walkTime:5,peakHours:"7AM-8PM",availabilityDescription:"Open parking area with moderate availability",findingProbability:65,trafficFrequency:[15,15,15,20,35,55,70,85,80,75,70,65,60,65,70,75,80,75,65,50,40,30,20,15],entrances:[{name:"Main Entrance",description:"Via main road"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Moderate"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Moderate"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Good alternative to mall parking. Images available in place1 folder."},{id:22,name:"Kampung Pandan Roadside Parking",address:"Jalan Kampung Pandan Dalam, Kampung Pandan Dalam, 55100 Kuala Lumpur",lat:3.1235934,lng:101.6729305,capacity:20,pricePerHour:2,isLegal:!0,type:"street",walkTime:3,peakHours:"7:30 AM - 9:30 AM, 5:00 PM - 7:00 PM",availabilityDescription:"Moderate availability on weekdays, high on weekends",findingProbability:80,trafficFrequency:[60,80,90,70,60,40,30],entrances:[{name:"Main Roadside Zone",description:"Legal street parking along Kampung Pandan Dalam road with clear road markings"},{name:"Secondary Zone",description:"Additional spaces available behind the shops"}],busyTimes:[{time:"Morning (8AM-10AM)",status:"High occupancy"},{time:"Afternoon (12PM-2PM)",status:"Moderate occupancy"},{time:"Evening (6PM-8PM)",status:"High occupancy"},{time:"Late night (10PM-12AM)",status:"Low occupancy"}],tips:"Payment is required using the parking machines along the roadside. Display ticket clearly on dashboard."},{id:23,name:"Entier French Dining Parking",address:"Level 41, Alila Bangsar, 58, Jalan Ang Seng, Brickfields, 59000 Kuala Lumpur",lat:3.1294112,lng:101.6785058,capacity:40,pricePerHour:0,isLegal:!0,type:"structure",walkTime:2,peakHours:"7:00 PM - 10:00 PM",availabilityDescription:"Good availability during weekdays, limited during weekend dinner times",findingProbability:85,trafficFrequency:[50,60,70,85,95,80,70],entrances:[{name:"Main Entrance",description:"Enter through Alila Bangsar hotel main entrance and take the elevator to the parking levels"},{name:"Parking Level Entry",description:"Direct entry to parking structure from Jalan Ang Seng"}],busyTimes:[{time:"Morning (8AM-11AM)",status:"Low occupancy"},{time:"Afternoon (12PM-2PM)",status:"Moderate occupancy"},{time:"Evening (6PM-9PM)",status:"High occupancy"},{time:"Late night (10PM-12AM)",status:"Moderate occupancy"}],tips:"Fixed rate of RM12 per entry per day. Validate your parking ticket at the restaurant for discounted rates."}];var eC=t(1890);function eE(){let[e,a]=(0,s.useState)(null),[t,g]=(0,s.useState)(""),[p,h]=(0,s.useState)("all"),[x,f]=(0,s.useState)(!1),[y,N]=(0,s.useState)(!1),[P,w]=(0,s.useState)(new Date),[L,R]=(0,s.useState)(!1),[S,C]=(0,s.useState)("map"),J=function(){let[e,a]=(0,s.useState)({latitude:null,longitude:null,error:null,loading:!0});return(0,s.useEffect)(()=>{if(!navigator.geolocation){a({...e,error:"Geolocation is not supported by your browser",loading:!1});return}let t=navigator.geolocation.watchPosition(e=>{a({latitude:e.coords.latitude,longitude:e.coords.longitude,error:null,loading:!1})},t=>{a({...e,error:t.message,loading:!1})},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});return()=>{navigator.geolocation.clearWatch(t)}},[]),e}();(0,s.useEffect)(()=>{let e=setTimeout(()=>N(!0),1e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{let e=setInterval(()=>{w(new Date)},6e4);return()=>clearInterval(e)},[]);let D=(0,s.useMemo)(()=>eT.map(e=>{let a=function(e,a,t,i){if(null===e||null===a)return 99999;let s=ed(t-e),n=ed(i-a),r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(ed(e))*Math.cos(ed(t))*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371}(J.latitude,J.longitude,e.lat,e.lng),t=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"driving";return Math.round(e/({driving:30,walking:5,transit:20})[a]*60)}(a,"driving");return{...e,distanceKm:a,estimatedDriveTimeMin:t}}).sort((e,a)=>(e.distanceKm||99999)-(a.distanceKm||99999)),[J.latitude,J.longitude]).filter(e=>{let a=e.name.toLowerCase().includes(t.toLowerCase()),i="all"===p||"legal"===p&&e.isLegal||"street"===p&&"street"===e.type||"mall"===p&&"mall"===e.type;return a&&i}),z=e=>e>=70?"text-green-600":e>=50?"text-yellow-600":e>=30?"text-orange-600":"text-red-600",F=e=>{switch(e){case"Low":return"text-green-600";case"Moderate":return"text-yellow-600";case"High":return"text-orange-600";case"Very High":case"High Risk":case"Moderate Risk":case"Low Risk":return"text-red-600";default:return"text-gray-600"}},_=e=>{let a=P.getHours(),t=e.trafficFrequency[a];return Math.max(5,Math.min(95,Math.round((100-t)/100*e.findingProbability)))};return(0,i.jsxs)("div",{className:"flex flex-col h-screen bg-background w-full max-w-md mx-auto overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 p-2 border-b bg-white sticky top-0 z-20",children:[(0,i.jsxs)("div",{className:"flex-1 relative",children:[(0,i.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,i.jsx)(v,{placeholder:"Find parking near...",value:t,onChange:e=>g(e.target.value),className:"pl-10 text-sm"})]}),(0,i.jsxs)(A,{children:[(0,i.jsx)(K,{asChild:!0,children:(0,i.jsx)(b,{variant:"outline",size:"icon",className:"h-9 w-9",children:(0,i.jsx)(r.A,{className:"h-4 w-4"})})}),(0,i.jsxs)(H,{side:"right",className:"w-72",children:[(0,i.jsx)(T,{children:(0,i.jsx)(E,{children:"Filter Options"})}),(0,i.jsx)("div",{className:"p-3 overflow-y-auto transition-all duration-300 ".concat("list"===S?"h-[70vh]":"h-[40vh]"," md:h-auto"),children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Filter by Type"}),(0,i.jsxs)(B,{value:p,onValueChange:h,children:[(0,i.jsx)(q,{children:(0,i.jsx)(U,{})}),(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{value:"all",children:"All Parking"}),(0,i.jsx)(W,{value:"legal",children:"Legal Only"})]})]})]})})]})]})]}),(0,i.jsxs)("div",{className:"relative bg-gray-100 transition-all duration-300 ".concat("map"===S?"h-[60vh]":"h-[20vh]"),children:[(0,i.jsx)(ei,{apiKey:eC.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||"",parkingSpots:D,selectedSpotId:null==e?void 0:e.id,onSpotSelect:e=>a(e),userLocation:J}),(0,i.jsx)(b,{className:"absolute bottom-6 right-4 rounded-full w-12 h-12 shadow-lg",size:"icon",children:(0,i.jsx)(l.A,{className:"h-5 w-5"})})]}),(0,i.jsxs)("div",{className:"bg-white border-t overflow-y-auto transition-all duration-300 ".concat("list"===S?"flex-1 max-h-[80vh]":"max-h-80"),children:[(0,i.jsxs)("div",{className:"flex justify-between items-center p-2 sticky top-0 z-10 bg-white border-b",children:[(0,i.jsx)("h3",{className:"font-medium text-sm",children:"Parking Knowledge Base"}),(0,i.jsx)(b,{size:"sm",variant:"ghost",className:"h-8",onClick:()=>C("map"===S?"list":"map"),children:"map"===S?"Show List":"Show Map"})]}),e?(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"font-semibold text-base",children:e.name}),(0,i.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.address}),(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[e.isLegal?(0,i.jsxs)(k,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:[(0,i.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Legal"]}):(0,i.jsxs)(k,{variant:"destructive",className:"text-xs",children:[(0,i.jsx)(d.A,{className:"w-3 h-3 mr-1"}),"Unauthorized"]}),(0,i.jsx)(k,{variant:"outline",className:"text-xs",children:e.type})]})]}),(0,i.jsx)(b,{onClick:()=>a(null),variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:"\xd7"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-lg font-bold ".concat(z(_(e))),children:[_(e),"%"]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-xl font-bold",children:["RM",e.pricePerHour]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Per Hour"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-xl font-bold",children:[e.walkTime,"min"]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:"Walk"})]})]}),(0,i.jsxs)("div",{className:"mb-4 bg-gray-50 rounded-lg p-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("h4",{className:"font-medium text-sm flex items-center",children:[(0,i.jsx)(c.A,{className:"w-4 h-4 mr-1"}),"Traffic Frequency"]}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:P.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"flex items-end gap-px h-16 mb-1",children:e.trafficFrequency.map((e,a)=>(0,i.jsx)("div",{className:"bg-blue-400 rounded-t flex-1 min-w-0 transition-all",style:{height:"".concat(e/100*100,"%")},title:"".concat(a,":00 - ").concat(e,"% busy")},a))}),(0,i.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10",style:{left:"".concat((P.getHours()+P.getMinutes()/60)/24*100,"%")},children:(0,i.jsx)("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-red-500 rounded-full"})}),(0,i.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,i.jsx)("span",{children:"12AM"}),(0,i.jsx)("span",{children:"6AM"}),(0,i.jsx)("span",{children:"12PM"}),(0,i.jsx)("span",{children:"6PM"}),(0,i.jsx)("span",{children:"12AM"})]})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-600 mt-2",children:["Current traffic: ",e.trafficFrequency[P.getHours()],"% busy"]})]}),(0,i.jsx)("div",{className:"mb-4 bg-gray-50 rounded-lg p-3",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.A,{className:"w-4 h-4 text-gray-600"}),(0,i.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.availabilityDescription})]})}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsxs)("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[(0,i.jsx)(m.A,{className:"w-4 h-4 mr-1"}),"Entrances & Access"]}),(0,i.jsx)("div",{className:"space-y-2",children:e.entrances.map((e,a)=>(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,i.jsx)("div",{className:"font-medium text-xs",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]},a))})]}),(0,i.jsxs)("div",{className:"mb-4 bg-blue-50 rounded-lg p-3",children:[(0,i.jsx)("h4",{className:"font-medium text-sm mb-1 text-blue-800",children:"\uD83D\uDCA1 Local Tips"}),(0,i.jsx)("p",{className:"text-xs text-blue-700",children:e.tips})]}),x&&(0,i.jsxs)(Y,{defaultValue:"busy-times",className:"mb-4",children:[(0,i.jsxs)(Q,{className:"grid w-full grid-cols-2 h-8",children:[(0,i.jsx)(Z,{value:"busy-times",className:"text-xs",children:"Busy Times"}),(0,i.jsx)(Z,{value:"info",className:"text-xs",children:"Details"})]}),(0,i.jsx)(X,{value:"busy-times",className:"mt-3",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-xs font-medium flex items-center",children:[(0,i.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Typical Busy Periods"]}),e.busyTimes.map((e,a)=>(0,i.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,i.jsx)("span",{children:e.time}),(0,i.jsx)("span",{className:"font-medium ".concat(F(e.status)),children:e.status})]},a))]})}),(0,i.jsx)(X,{value:"info",className:"mt-3",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-xs font-medium",children:["Peak Hours: ",e.peakHours]}),(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:e.isLegal?"Standard rate: RM".concat(e.pricePerHour,"/hour"):"Risk of fines: RM50-150"}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Capacity: ",e.capacity," vehicles"]})]})})]}),(0,i.jsx)("div",{className:"flex gap-2",children:(0,i.jsxs)(b,{className:"flex-1 h-9 text-sm",onClick:()=>R(!0),children:[(0,i.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"Navigate"]})}),(0,i.jsx)(eh,{open:L,onOpenChange:R,spot:e,userLocation:J})]}):(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h3",{className:"font-semibold mb-3 text-sm",children:"Parking Knowledge Base"}),(0,i.jsx)("div",{className:"space-y-2",children:D.map(e=>(0,i.jsx)(j,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a(e),children:(0,i.jsx)(M,{className:"p-3",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("div",{className:"font-medium text-sm truncate",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-gray-600 truncate mb-1",children:e.address}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[e.isLegal?(0,i.jsx)(k,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:"Legal"}):(0,i.jsx)(k,{variant:"destructive",className:"text-xs",children:"Risk"}),J.latitude?(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(0,i.jsx)(m.A,{className:"h-3 w-3 inline mr-1"}),eo(e.distanceKm||0)," • ",e.estimatedDriveTimeMin,"min"]}):(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.walkTime,"min walk"]})]}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:e.availabilityDescription})]}),(0,i.jsxs)("div",{className:"text-right ml-2",children:[(0,i.jsxs)("div",{className:"font-semibold text-sm ".concat(z(_(e))),children:[_(e),"%"]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["RM",e.pricePerHour,"/hr"]})]})]})})},e.id))})]})]}),(0,i.jsx)(eH,{})]})}},9106:(e,a,t)=>{"use strict";function i(){return"/parklah"}function s(e){return e.startsWith("/")?"".concat(i()).concat(e):e}t.d(a,{D:()=>i,h:()=>s})},9314:(e,a,t)=>{Promise.resolve().then(t.bind(t,713))}},e=>{var a=a=>e(e.s=a);e.O(0,[84,316,441,684,358],()=>a(9314)),_N_E=e.O()}]);