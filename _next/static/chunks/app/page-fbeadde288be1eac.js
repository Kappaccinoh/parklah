(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6564:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>e_});var s=t(5155),i=t(2115),n=t(7924),r=t(1482),l=t(646),o=t(1243),c=t(7930),d=t(5742),m=t(3109),u=t(9153),p=t(4186),h=t(9708),x=t(2085),g=t(2596),f=t(9688);function y(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,f.QP)((0,g.$)(a))}let v=(0,x.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=i.forwardRef((e,a)=>{let{className:t,variant:i,size:n,asChild:r=!1,...l}=e,o=r?h.DX:"button";return(0,s.jsx)(o,{className:y(v({variant:i,size:n,className:t})),ref:a,...l})});b.displayName="Button";let j=i.forwardRef((e,a)=>{let{className:t,type:i,...n}=e;return(0,s.jsx)("input",{type:i,className:y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});j.displayName="Input";let N=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:a,className:y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...i})});N.displayName="Card",i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:a,className:y("flex flex-col space-y-1.5 p-6",t),...i})}).displayName="CardHeader",i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:a,className:y("text-2xl font-semibold leading-none tracking-tight",t),...i})}).displayName="CardTitle",i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:a,className:y("text-sm text-muted-foreground",t),...i})}).displayName="CardDescription";let M=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:a,className:y("p-6 pt-0",t),...i})});M.displayName="CardContent",i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("div",{ref:a,className:y("flex items-center p-6 pt-0",t),...i})}).displayName="CardFooter";let k=(0,x.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function w(e){let{className:a,variant:t,...i}=e;return(0,s.jsx)("div",{className:y(k({variant:t}),a),...i})}var P=t(5452),A=t(4416);let S=P.bL,L=P.l9;P.bm;let R=P.ZL,K=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(P.hJ,{className:y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...i,ref:a})});K.displayName=P.hJ.displayName;let C=(0,x.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),H=i.forwardRef((e,a)=>{let{side:t="right",className:i,children:n,...r}=e;return(0,s.jsxs)(R,{children:[(0,s.jsx)(K,{}),(0,s.jsxs)(P.UC,{ref:a,className:y(C({side:t}),i),...r,children:[n,(0,s.jsxs)(P.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});H.displayName=P.UC.displayName;let T=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:y("flex flex-col space-y-2 text-center sm:text-left",a),...t})};T.displayName="SheetHeader";let E=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};E.displayName="SheetFooter";let D=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(P.hE,{ref:a,className:y("text-lg font-semibold text-foreground",t),...i})});D.displayName=P.hE.displayName;let J=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(P.VY,{ref:a,className:y("text-sm text-muted-foreground",t),...i})});J.displayName=P.VY.displayName;var V=t(9912),B=t(6474),F=t(7863),z=t(5196);let _=V.bL;V.YJ;let U=V.WT,q=i.forwardRef((e,a)=>{let{className:t,children:i,...n}=e;return(0,s.jsxs)(V.l9,{ref:a,className:y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[i,(0,s.jsx)(V.In,{asChild:!0,children:(0,s.jsx)(B.A,{className:"h-4 w-4 opacity-50"})})]})});q.displayName=V.l9.displayName;let I=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(V.PP,{ref:a,className:y("flex cursor-default items-center justify-center py-1",t),...i,children:(0,s.jsx)(F.A,{className:"h-4 w-4"})})});I.displayName=V.PP.displayName;let O=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(V.wn,{ref:a,className:y("flex cursor-default items-center justify-center py-1",t),...i,children:(0,s.jsx)(B.A,{className:"h-4 w-4"})})});O.displayName=V.wn.displayName;let W=i.forwardRef((e,a)=>{let{className:t,children:i,position:n="popper",...r}=e;return(0,s.jsx)(V.ZL,{children:(0,s.jsxs)(V.UC,{ref:a,className:y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[(0,s.jsx)(I,{}),(0,s.jsx)(V.LM,{className:y("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,s.jsx)(O,{})]})})});W.displayName=V.UC.displayName,i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(V.JU,{ref:a,className:y("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...i})}).displayName=V.JU.displayName;let G=i.forwardRef((e,a)=>{let{className:t,children:i,...n}=e;return(0,s.jsxs)(V.q7,{ref:a,className:y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(V.VF,{children:(0,s.jsx)(z.A,{className:"h-4 w-4"})})}),(0,s.jsx)(V.p4,{children:i})]})});G.displayName=V.q7.displayName,i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(V.wv,{ref:a,className:y("-mx-1 my-1 h-px bg-muted",t),...i})}).displayName=V.wv.displayName;var Y=t(64);let Z=Y.bL,Q=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(Y.B8,{ref:a,className:y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...i})});Q.displayName=Y.B8.displayName;let X=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(Y.l9,{ref:a,className:y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...i})});X.displayName=Y.l9.displayName;let $=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(Y.UC,{ref:a,className:y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...i})});$.displayName=Y.UC.displayName;var ee=t(2200);let ea=e=>{let{className:a}=e;return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,children:[(0,s.jsx)("circle",{cx:"8",cy:"8",r:"7.5",fill:"#5856D6",stroke:"white"}),(0,s.jsx)("path",{d:"M4.67188 11V5H8.04688C8.62396 5 9.10677 5.0974 9.49531 5.29219C9.88646 5.48698 10.1818 5.75677 10.3813 6.10156C10.5807 6.44375 10.6805 6.8401 10.6805 7.29062C10.6805 7.74375 10.5781 8.14271 10.3735 8.4875C10.1688 8.82969 9.86823 9.09948 9.47188 9.29688C9.07552 9.49427 8.58229 9.59297 7.99219 9.59297H5.89062V8.51797H7.85156C8.21615 8.51797 8.51042 8.46589 8.73438 8.36172C8.95833 8.25755 9.12187 8.10885 9.225 7.91562C9.33073 7.72239 9.38359 7.48854 9.38359 7.21406C9.38359 6.9349 9.33073 6.69583 9.225 6.49688C9.11927 6.29792 8.95312 6.14661 8.72656 6.04297C8.5 5.93932 8.20052 5.8875 7.82812 5.8875H5.95312V11H4.67188Z",fill:"white"})]})},et={width:"100%",height:"100%"},es={lat:3.139,lng:101.6869},ei={disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0},en=e=>{var a,t,n,r,l,o;let{apiKey:c,parkingSpots:d,selectedSpotId:m,onSpotSelect:u,onValetSelect:p,userLocation:h}=e,x=(0,i.useMemo)(()=>(null==h?void 0:h.latitude)&&(null==h?void 0:h.longitude)?{lat:h.latitude,lng:h.longitude}:es,[null==h?void 0:h.latitude,null==h?void 0:h.longitude]),{isLoaded:g,loadError:f}=(0,ee.KD)({googleMapsApiKey:c}),[y,v]=(0,i.useState)(null),[b,j]=(0,i.useState)(null),N=(0,i.useRef)(null),M=(0,i.useCallback)(e=>{N.current=e,v(e)},[]),k=e=>{j(e);let a=d.find(a=>a.id===e);a&&u&&u(a)},w=(e,a)=>{a.stopPropagation();let t=d.find(a=>a.id===e);t&&p&&t.hasValetService&&p(t)},P=e=>({path:google.maps.SymbolPath.CIRCLE,fillColor:e.isLegal?"#4ade80":"#ef4444",fillOpacity:.9,strokeWeight:2,strokeColor:"#ffffff",scale:8,label:{text:"".concat(e.walkTime,"m"),color:"#ffffff",fontSize:"10px",fontWeight:"bold"}});return f?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:"Error loading Google Maps"}):g?(0,s.jsxs)(ee.u6,{mapContainerStyle:et,center:x,zoom:(null==h?void 0:h.latitude)?15:14,options:ei,onLoad:M,children:[(null==h?void 0:h.latitude)&&(null==h?void 0:h.longitude)&&(0,s.jsx)(ee.pH,{position:{lat:h.latitude,lng:h.longitude},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:8},zIndex:1e3,title:"Your Location"}),d.map(e=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(ee.pH,{position:{lat:e.lat,lng:e.lng},onClick:()=>k(e.id),icon:P(e),animation:e.id===m?google.maps.Animation.BOUNCE:void 0,zIndex:100}),e.hasValetService&&(0,s.jsx)(ee.i3,{position:{lat:e.lat,lng:e.lng},mapPaneName:ee.i3.OVERLAY_MOUSE_TARGET,getPixelPositionOffset:(e,a)=>({x:16,y:-8}),children:(0,s.jsx)("div",{onClick:a=>w(e.id,a),className:"cursor-pointer rounded-full bg-white p-0.5 shadow-md",title:"Valet Service: From RM".concat(e.valetBaseRate,"/hr (members only)"),children:(0,s.jsx)(ea,{className:"h-6 w-6"})})})]},e.id)),null!==b&&(0,s.jsx)(ee.Fu,{position:{lat:(null===(a=d.find(e=>e.id===b))||void 0===a?void 0:a.lat)||0,lng:(null===(t=d.find(e=>e.id===b))||void 0===t?void 0:t.lng)||0},onCloseClick:()=>j(null),children:(0,s.jsxs)("div",{className:"p-2 max-w-xs",children:[(0,s.jsx)("h3",{className:"font-medium text-sm",children:null===(n=d.find(e=>e.id===b))||void 0===n?void 0:n.name}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:null===(r=d.find(e=>e.id===b))||void 0===r?void 0:r.address}),(0,s.jsxs)("p",{className:"text-xs mt-1",children:["RM",null===(l=d.find(e=>e.id===b))||void 0===l?void 0:l.pricePerHour,"/hr"]}),(null===(o=d.find(e=>e.id===b))||void 0===o?void 0:o.hasValetService)&&(0,s.jsx)("div",{className:"flex items-center mt-1 text-xs text-purple-600",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(ea,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"Valet Service Available"})]})})]})})]}):(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Loading Google Maps..."})]})})};var er=t(1164),el=t(4200),eo=t(9934),ec=t(1284);function ed(e){return e<1?"".concat(Math.round(1e3*e),"m"):"".concat(e.toFixed(1),"km")}function em(e){return Math.PI/180*e}var eu=t(9106);let ep={"turn-jalan-bukit-bintang":{url:(0,eu.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Turn right onto Jalan Bukit Bintang",contributor:"Local user: Ahmad",timestamp:"2 weeks ago"},"pavilion-entrance":{url:(0,eu.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Pavilion mall entrance - look for the parking sign",contributor:"Local user: Sarah",timestamp:"1 month ago"},"klcc-approach":{url:(0,eu.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"KLCC approach view - parking entrance ahead",contributor:"Local user: Michael",timestamp:"3 weeks ago"},"times-square-entrance":{url:(0,eu.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Berjaya Times Square parking entrance",contributor:"Local user: Aisha",timestamp:"2 months ago"},"uptown-damansara-junction":{url:(0,eu.h)("/Jalan_Alor_in_Kuala_Lumpur_during_Corona_virus_lockdown.jpg"),caption:"Junction to Uptown Damansara",contributor:"Local user: Raj",timestamp:"1 week ago"},"kampung-pandan-approach":{url:(0,eu.h)("/place1/6183812248728881309.jpg"),caption:"Approaching Kampung Pandan parking area",contributor:"ParkLah Team",timestamp:"4 days ago"},"kampung-pandan-entrance":{url:(0,eu.h)("/place1/6183812248728881310.jpg"),caption:"Main entrance to Kampung Pandan outdoor parking",contributor:"ParkLah Team",timestamp:"4 days ago"},"kampung-pandan-lots":{url:(0,eu.h)("/place1/6183812248728881312.jpg"),caption:"Available parking spots at Kampung Pandan outdoor parking",contributor:"ParkLah Team",timestamp:"4 days ago"},"roadside-approach":{url:(0,eu.h)("/place2/6183812248728881313.jpg"),caption:"Approaching Kampung Pandan roadside parking area",contributor:"ParkLah Team",timestamp:"3 days ago"},"roadside-parking-zone":{url:(0,eu.h)("/place2/6183812248728881314.jpg"),caption:"Legal roadside parking zone in Kampung Pandan",contributor:"ParkLah Team",timestamp:"3 days ago"},"roadside-payment":{url:(0,eu.h)("/place2/6183812248728881315.jpg"),caption:"Payment machine for Kampung Pandan roadside parking",contributor:"ParkLah Team",timestamp:"3 days ago"},"entier-entrance":{url:(0,eu.h)("/place3/6183812248728881468.jpg"),caption:"Main entrance to Alila Bangsar parking for Entier French Dining",contributor:"ParkLah Team",timestamp:"2 days ago"}},eh={"Pavilion KL Parking":["turn-jalan-bukit-bintang","pavilion-entrance"],"KLCC Suria Mall Parking":["klcc-approach"],"Berjaya Times Square Parking":["times-square-entrance"],"Starling Mall Parking":["uptown-damansara-junction"],"Uptown Street Parking":["uptown-damansara-junction"],"Outdoor Parking - Kampung Pandan":["kampung-pandan-approach","kampung-pandan-entrance","kampung-pandan-lots"],"Kampung Pandan Roadside Parking":["roadside-approach","roadside-parking-zone","roadside-payment"],"Entier French Dining Parking":["entier-entrance"]},ex=(e,a,t)=>{switch(e){case 21:return function(e,a){let t=eh[e]||[];switch(a){case"driving":return[{instruction:"Head toward Jalan Kampung Pandan",distance:.3,time:2,isKey:!1},{instruction:"Turn right onto Jalan Kampung Pandan",distance:.8,time:3,isKey:!1},{instruction:"Continue straight for 400m",distance:.4,time:2,isKey:!1},{instruction:"Look for the open parking area on your right",distance:.2,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main entrance",distance:.1,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Park in any available space marked with white lines",distance:.05,time:2,isKey:!0,imageKey:t[2]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Head south-east on the pedestrian walkway",distance:.2,time:3,isKey:!1},{instruction:"Cross at the pedestrian crossing",distance:.1,time:2,isKey:!1},{instruction:"Continue straight on Jalan Kampung Pandan",distance:.3,time:4,isKey:!1},{instruction:"The outdoor parking area will be visible on your right",distance:.1,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Walk toward the entrance",distance:.1,time:2,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Walk to the nearest bus stop on Jalan Kampung Pandan (150m)",distance:.15,time:2,isKey:!1},{instruction:"Take bus T250 toward Kampung Pandan",distance:1.2,time:10,isKey:!1},{instruction:"Exit at Kampung Pandan Central stop",distance:.1,time:1,isKey:!1},{instruction:"Walk east for 200m",distance:.2,time:3,isKey:!1},{instruction:"The outdoor parking area will be visible ahead",distance:.1,time:2,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main entrance",distance:.05,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return eg(e,"driving")}}(a,t);case 22:return function(e,a){let t=eh[e]||[];switch(a){case"driving":return[{instruction:"Head toward Jalan Kampung Pandan Dalam",distance:.4,time:2,isKey:!1},{instruction:"Continue straight past the small market",distance:.3,time:1,isKey:!1},{instruction:"Look for the designated roadside parking zone",distance:.2,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Park parallel to the curb in marked spaces only",distance:.1,time:2,isKey:!0,imageKey:t[1]||null},{instruction:"Pay at the parking meter located every 50m",distance:.05,time:3,isKey:!0,imageKey:t[2]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Walk east on the main street",distance:.15,time:2,isKey:!1},{instruction:"Turn right at the convenience store",distance:.15,time:2,isKey:!1},{instruction:"Continue straight for 200m",distance:.2,time:3,isKey:!1},{instruction:"Look for the roadside parking area",distance:.1,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"The parking zone is clearly marked with white lines",distance:.05,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Take bus B112 toward Kampung Pandan",distance:1.5,time:12,isKey:!1},{instruction:"Exit at the Kampung Pandan Dalam stop",distance:.1,time:1,isKey:!1},{instruction:"Walk north for 150m",distance:.15,time:2,isKey:!1},{instruction:"Turn right at the intersection",distance:.1,time:1,isKey:!1},{instruction:"The roadside parking area will be on your left",distance:.1,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Look for cars parked along the designated zones",distance:.05,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return eg(e,"driving")}}(a,t);case 23:return function(e,a){let t=eh[e]||[];switch(a){case"driving":return[{instruction:"Head toward Jalan Ang Seng",distance:.3,time:2,isKey:!1},{instruction:"Turn into the Alila Bangsar hotel entrance",distance:.2,time:1,isKey:!0,imageKey:t[0]||null},{instruction:"Follow signs to the hotel parking structure",distance:.1,time:1,isKey:!1},{instruction:"Take parking ticket at barrier",distance:.05,time:1,isKey:!0},{instruction:"Park on available levels B1-B3",distance:.05,time:2,isKey:!1},{instruction:"Take elevator to Level 41 for Entier French Dining",distance:0,time:3,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Walk toward Alila Bangsar hotel entrance",distance:.2,time:3,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main lobby doors",distance:.1,time:1,isKey:!1},{instruction:"Take the elevator directly to Level 41",distance:.05,time:2,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Take LRT to Bangsar station",distance:1,time:15,isKey:!1},{instruction:"Exit station toward Jalan Ang Seng",distance:.1,time:2,isKey:!1},{instruction:"Walk to Alila Bangsar hotel entrance (200m)",distance:.2,time:3,isKey:!0,imageKey:t[0]||null},{instruction:"Enter through the main lobby",distance:.05,time:1,isKey:!1},{instruction:"Take the elevator to Level 41",distance:.05,time:2,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return eg(e,"driving")}}(a,t);default:return eg(a,t)}};function eg(e,a){let t=eh[e]||[];switch(a){case"driving":return[{instruction:"Exit current location to main road",distance:.2,time:1,isKey:!1},{instruction:"Continue toward destination",distance:.8,time:3,isKey:!1},{instruction:"Follow signs to parking area",distance:.5,time:4,isKey:!0,imageKey:t[0]||null},{instruction:"Turn into parking entrance",distance:.1,time:1,isKey:!0,imageKey:t[1]||null},{instruction:"Look for available spots",distance:.1,time:2,isKey:!1},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"walking":return[{instruction:"Walk toward main street",distance:.1,time:2,isKey:!1},{instruction:"Continue straight for 400m",distance:.4,time:6,isKey:!1},{instruction:"Cross at the pedestrian crossing",distance:.1,time:2,isKey:!1},{instruction:"Follow signs to destination",distance:.3,time:5,isKey:!0,imageKey:t[0]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];case"transit":return[{instruction:"Walk to the nearest transit stop",distance:.2,time:3,isKey:!1},{instruction:"Take the next available transport toward destination",distance:1.5,time:15,isKey:!1},{instruction:"Exit at the stop nearest to destination",distance:.1,time:1,isKey:!1},{instruction:"Walk toward destination",distance:.3,time:5,isKey:!0,imageKey:t[0]||null},{instruction:"Arrive at destination",distance:0,time:0,isKey:!1}];default:return[{instruction:"Directions not available for this travel mode",distance:0,time:0,isKey:!1}]}}function ef(e){let{open:a,onOpenChange:t,spot:n,userLocation:r}=e,[l,o]=(0,i.useState)("driving"),[c,d]=(0,i.useState)([]),[m,u]=(0,i.useState)([]),h=(0,i.useMemo)(()=>n?ex(n.id,n.name,l):[],[n,l]);if((0,i.useEffect)(()=>{d(h)},[h]),!n)return null;let x=(0,i.useMemo)(()=>c.reduce((e,a)=>e+a.distance,0),[c]),g=(0,i.useMemo)(()=>c.reduce((e,a)=>e+a.time,0),[c]),f=(e=>{switch(e){case"driving":default:return{icon:(0,s.jsx)(er.A,{size:16}),label:"Drive",timeMultiplier:1,costRange:(null==n?void 0:n.pricePerHour)||"RM5-10/hour"};case"walking":return{icon:(0,s.jsx)(el.A,{size:16}),label:"Walk",timeMultiplier:1.2,costRange:"Free"};case"transit":return{icon:(0,s.jsx)(eo.A,{size:16}),label:"Transit",timeMultiplier:.8,costRange:"RM2-5"}}})(l),y=e=>{m.includes(e)?u(m.filter(a=>a!==e)):u([...m,e])};return(0,s.jsx)(S,{open:a,onOpenChange:t,children:(0,s.jsxs)(H,{side:"right",className:"w-full max-w-full p-3 overflow-y-auto",children:[(0,s.jsxs)(T,{className:"text-left",children:[(0,s.jsx)(D,{className:"text-lg flex justify-between items-center",children:(0,s.jsxs)("span",{children:["Navigation to ",n.name]})}),(0,s.jsx)(J,{className:"flex items-center text-sm",children:(0,s.jsx)("span",{children:n.address})})]}),(0,s.jsx)("div",{className:"my-4",children:(0,s.jsxs)(Z,{defaultValue:"directions",className:"w-full",children:[(0,s.jsxs)(Q,{className:"grid grid-cols-2 mb-2 w-full",children:[(0,s.jsx)(X,{value:"directions",children:"Directions"}),(0,s.jsx)(X,{value:"details",children:"Details"})]}),(0,s.jsxs)($,{value:"directions",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex border rounded-md overflow-hidden w-full",children:[(0,s.jsxs)(b,{onClick:()=>o("driving"),variant:"driving"===l?"default":"ghost",className:"flex-1 rounded-none h-9 gap-1 px-1 text-xs",children:[(0,s.jsx)(er.A,{size:16}),(0,s.jsx)("span",{className:"text-xs",children:"Drive"})]}),(0,s.jsxs)(b,{onClick:()=>o("walking"),variant:"walking"===l?"default":"ghost",className:"flex-1 rounded-none h-9 gap-1 px-1 text-xs",children:[(0,s.jsx)(el.A,{size:16}),(0,s.jsx)("span",{className:"text-xs",children:"Walk"})]}),(0,s.jsxs)(b,{onClick:()=>o("transit"),variant:"transit"===l?"default":"ghost",className:"flex-1 rounded-none h-9 gap-1 px-1 text-xs",children:[(0,s.jsx)(eo.A,{size:16}),(0,s.jsx)("span",{className:"text-xs",children:"Transit"})]})]}),(0,s.jsx)(N,{className:"bg-gray-50",children:(0,s.jsx)(M,{className:"p-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium",children:[ed(x)," total"]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Math.round(g*f.timeMultiplier)," min (",f.label,")"]})]}),(0,s.jsxs)(w,{variant:"outline",className:"bg-white",children:[(0,s.jsx)(p.A,{size:12,className:"mr-1"}),n.estimatedDriveTimeMin," min"]})]})})}),(0,s.jsx)("div",{className:"space-y-2",children:c.map((e,a)=>{let t=m.includes(a),i=e.isKey&&e.imageKey&&ep[e.imageKey];return(0,s.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-3 flex justify-between items-center cursor-pointer ".concat(i?"hover:bg-gray-50":""),onClick:()=>i?y(a):null,children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"bg-gray-200 h-6 w-6 rounded-full flex items-center justify-center mr-3 text-xs",children:a+1}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm",children:e.instruction}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[ed(e.distance)," \xb7 ",e.time," min"]})]})]}),i&&(0,s.jsx)(B.A,{size:18,className:"transition-transform ".concat(t?"rotate-180":"")})]}),i&&t&&e.imageKey&&ep[e.imageKey]&&(0,s.jsxs)("div",{className:"px-3 pb-3",children:[(0,s.jsx)("div",{className:"relative h-32 w-full rounded-md overflow-hidden",children:(0,s.jsx)("img",{src:ep[e.imageKey].url,alt:ep[e.imageKey].caption,className:"object-cover w-full h-full"})}),(0,s.jsxs)("div",{className:"mt-2 text-xs",children:[(0,s.jsx)("p",{className:"font-medium",children:ep[e.imageKey].caption}),(0,s.jsxs)("p",{className:"text-gray-500 mt-1",children:[ep[e.imageKey].contributor," \xb7 ",ep[e.imageKey].timestamp]})]})]})]},a)})}),(0,s.jsxs)("div",{className:"bg-blue-50 p-2 rounded-md text-xs flex items-start",children:[(0,s.jsx)(ec.A,{size:14,className:"text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-800",children:"Images are provided by the ParkLah community to help with navigation."}),(0,s.jsx)("p",{className:"text-blue-600 mt-1",children:"Want to contribute? Take photos of key locations when you park and share them with others!"})]})]})]}),(0,s.jsx)($,{value:"details",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Entrances"}),n.entrances&&n.entrances.length>0?(0,s.jsx)("div",{className:"space-y-2",children:n.entrances.map((e,a)=>(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,s.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]},a))}):(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"No entrance information available"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Pricing"}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm",children:"Hourly rate:"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:["RM",n.pricePerHour,".00"]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,s.jsx)("span",{className:"text-sm",children:"Estimated 2 hours:"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:["RM",2*n.pricePerHour,".00"]})]})]})]}),(0,s.jsx)(b,{variant:"outline",className:"w-full",children:"Share this parking location"})]})})]})}),(0,s.jsx)(E,{className:"justify-center mt-2 pb-safe",children:(0,s.jsx)(b,{className:"w-full h-10",size:"sm",children:"Open in Google Maps"})})]})})}let ey=P.bL;P.l9;let ev=P.ZL,eb=P.bm,ej=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(P.hJ,{ref:a,className:y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...i})});ej.displayName=P.hJ.displayName;let eN=i.forwardRef((e,a)=>{let{className:t,children:i,...n}=e;return(0,s.jsxs)(ev,{children:[(0,s.jsx)(ej,{}),(0,s.jsxs)(P.UC,{ref:a,className:y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[i,(0,s.jsxs)(P.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eN.displayName=P.UC.displayName;let eM=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:y("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};eM.displayName="DialogHeader";let ek=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};ek.displayName="DialogFooter";let ew=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(P.hE,{ref:a,className:y("text-lg font-semibold leading-none tracking-tight",t),...i})});ew.displayName=P.hE.displayName;let eP=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(P.VY,{ref:a,className:y("text-sm text-muted-foreground",t),...i})});eP.displayName=P.VY.displayName;let eA=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("textarea",{className:y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});eA.displayName="Textarea";var eS=t(1497),eL=t(7939),eR=t(2486),eK=t(3861);let eC=[{id:"1",senderId:"ANON-123",receiverId:"USER-1",message:"Hi, you're blocking my car at Pavilion B2. Can you move it?",timestamp:new Date("2025-05-28T14:30:00"),isRead:!1},{id:"2",senderId:"ANON-456",receiverId:"USER-1",message:"Your headlights are on in the KLCC parking lot.",timestamp:new Date("2025-05-28T15:45:00"),isRead:!1}],eH=function(){let[e,a]=(0,i.useState)(!1),[t,n]=(0,i.useState)(!1),[r,l]=(0,i.useState)(null),[o,d]=(0,i.useState)(""),[m,u]=(0,i.useState)(eC),[p,h]=(0,i.useState)(0),[x,g]=(0,i.useState)("inbox");(0,i.useEffect)(()=>{h(m.filter(e=>!e.isRead).length)},[m]);let f=e=>{e&&e.startsWith("PARKLAH-")&&(l(e.substring(8)),a(!1),n(!0),g("compose"))},y=e=>{u(m.map(a=>a.id===e?{...a,isRead:!0}:a))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"app-button-container",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)(b,{className:"app-button app-button-left",variant:"default",onClick:()=>n(!0),children:[(0,s.jsx)(eS.A,{size:16,className:"mr-2"}),(0,s.jsx)("span",{className:"text-xs",children:"Messages"}),p>0&&(0,s.jsx)(w,{className:"absolute -top-2 -right-2 bg-red-500 h-5 w-5 flex items-center justify-center p-0",children:p})]}),(0,s.jsxs)(b,{className:"app-button app-button-right",variant:"secondary",onClick:()=>a(!0),children:[(0,s.jsx)(eL.A,{size:16,className:"mr-2"}),(0,s.jsx)("span",{className:"text-xs",children:"Scan QR"})]})]})}),(0,s.jsx)(ey,{open:e,onOpenChange:a,children:(0,s.jsxs)(eN,{className:"max-w-full h-[100vh] sm:min-h-fit p-0 sm:p-6 flex flex-col",children:[(0,s.jsx)(eM,{className:"p-4 border-b bg-white z-10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(ew,{children:"Scan ParkLah QR Code"}),(0,s.jsx)(eP,{children:"Scan the QR code on another driver's car to send them an anonymous message."})]}),(0,s.jsx)(eb,{asChild:!0,children:(0,s.jsx)(b,{variant:"ghost",size:"icon",children:(0,s.jsx)(A.A,{size:18})})})]})}),(0,s.jsx)("div",{className:"p-4 flex flex-col flex-1 overflow-y-auto",children:(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center flex-1 flex flex-col justify-center",children:[(0,s.jsx)(eL.A,{size:64,className:"mx-auto mb-4 text-gray-400"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Camera access would be requested here"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b,{variant:"outline",className:"w-full",onClick:()=>f("PARKLAH-12345"),children:"Simulate Scan: Car #12345"}),(0,s.jsx)(b,{variant:"outline",className:"w-full",onClick:()=>f("PARKLAH-67890"),children:"Simulate Scan: Car #67890"})]})]})}),(0,s.jsx)("p",{className:"text-xs text-center text-gray-500 p-4 border-t mt-auto",children:"QR codes can be found on the ParkLah sticker in the car window"})]})}),(0,s.jsx)(ey,{open:t,onOpenChange:n,children:(0,s.jsxs)(eN,{className:"max-w-full h-[100vh] sm:min-h-fit p-0 sm:p-6 flex flex-col",children:[(0,s.jsx)(eM,{className:"p-4 border-b bg-white z-10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(ew,{children:"compose"===x?"Message to Driver #".concat(r):"Your Messages"}),"compose"===x?(0,s.jsx)(b,{variant:"ghost",size:"icon",onClick:()=>{g("inbox"),l(null),d("")},children:(0,s.jsx)(A.A,{size:18})}):(0,s.jsx)(eb,{asChild:!0,children:(0,s.jsx)(b,{variant:"ghost",size:"icon",children:(0,s.jsx)(A.A,{size:18})})})]})}),"compose"===x?(0,s.jsxs)("div",{className:"space-y-4 p-4 flex flex-col flex-1 overflow-y-auto",children:[(0,s.jsx)(eA,{placeholder:"Type your message here...",className:"flex-1 min-h-[200px]",value:o,onChange:e=>d(e.target.value)}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"This message will be sent anonymously. The driver will not see your personal information."}),(0,s.jsxs)(ek,{className:"pt-4 mt-auto",children:[(0,s.jsx)(eb,{asChild:!0,children:(0,s.jsx)(b,{variant:"outline",children:"Cancel"})}),(0,s.jsxs)(b,{onClick:()=>{o.trim()&&r&&(u([...m,{id:Date.now().toString(),senderId:"USER-1",receiverId:r,message:o,timestamp:new Date,isRead:!1}]),d(""),g("inbox"),l(null))},disabled:!o.trim(),children:[(0,s.jsx)(eR.A,{className:"mr-2 h-4 w-4"}),"Send Message"]})]})]}):(0,s.jsxs)(Z,{defaultValue:"inbox",className:"flex flex-col flex-1 overflow-hidden",children:[(0,s.jsxs)(Q,{className:"grid grid-cols-2 mb-2 sticky top-0 bg-white z-10",children:[(0,s.jsx)(X,{value:"inbox",children:"Inbox"}),(0,s.jsx)(X,{value:"sent",children:"Sent"})]}),(0,s.jsx)($,{value:"inbox",className:"flex-1 overflow-y-auto p-4",children:m.filter(e=>"USER-1"===e.receiverId).length>0?(0,s.jsx)("div",{className:"space-y-3",children:m.filter(e=>"USER-1"===e.receiverId).sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg ".concat(e.isRead?"bg-gray-100":"bg-blue-50 border-l-4 border-blue-500"),onClick:()=>y(e.id),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.A,{size:16,className:"mr-1"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Anonymous Driver"})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsx)("p",{className:"text-sm",children:e.message})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(eK.A,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No messages in your inbox"})]})}),(0,s.jsx)($,{value:"sent",className:"flex-1 overflow-y-auto p-4",children:m.filter(e=>"USER-1"===e.senderId).length>0?(0,s.jsx)("div",{className:"space-y-3",children:m.filter(e=>"USER-1"===e.senderId).sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-gray-100",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("span",{className:"text-sm font-medium",children:["To: Driver #",e.receiverId]})}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsx)("p",{className:"text-sm",children:e.message})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(eR.A,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No messages sent yet"})]})})]})]})})]})};var eT=t(9074),eE=t(2239),eD=t(8076);let eJ=["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00"],eV={bookValet:async(e,a,t)=>new Promise(e=>{setTimeout(()=>{e({success:!0,bookingId:"VALET-".concat(Math.floor(1e4*Math.random()))})},1e3)})},eB=e=>{let{open:a,onOpenChange:t,spot:n}=e,{isSubscribed:r,upgradeSubscription:l}=(0,eD.R)(),[o,c]=(0,i.useState)(new Date),[d,m]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),[x,g]=(0,i.useState)(!1),[f,y]=(0,i.useState)(null),[v,j]=(0,i.useState)(null),k=(0,eE.A)(o,"EEE, MMM d, yyyy"),P=n?Math.round(.75*n.valetBaseRate):0,A=async()=>{if(n&&d)try{h(!0),j(null);let e=await eV.bookValet(n.id,o,d);e.success&&(y(e.bookingId),g(!0))}catch(e){j("Unable to complete your booking. Please try again.")}finally{h(!1)}},S=e=>{e||(m(null),g(!1),y(null),j(null)),t(e)};return n?(0,s.jsx)(ey,{open:a,onOpenChange:S,children:(0,s.jsx)(eN,{className:"sm:max-w-md",children:r?(0,s.jsx)(s.Fragment,{children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(eM,{children:[(0,s.jsx)(ew,{children:"Valet Booking Confirmed!"}),(0,s.jsx)(eP,{children:"Your valet service has been booked successfully."})]}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsx)(N,{className:"bg-green-50 border-green-200",children:(0,s.jsxs)(M,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("div",{className:"bg-green-100 text-green-700 rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsxs)("h3",{className:"text-lg font-medium text-green-800",children:["Booking #",f]})]}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Location:"}),(0,s.jsx)("span",{className:"font-medium",children:n.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Date:"}),(0,s.jsx)("span",{className:"font-medium",children:k})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Time:"}),(0,s.jsx)("span",{className:"font-medium",children:d})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Valet Partner:"}),(0,s.jsx)("span",{className:"font-medium",children:n.valetPartner})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Member Price:"}),(0,s.jsxs)("span",{className:"font-medium",children:["RM",P]})]})]})]})}),(0,s.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-500",children:[(0,s.jsx)("p",{children:"A calendar invite has been sent to your email."}),(0,s.jsx)("p",{className:"mt-1",children:"Show this booking to the valet service attendant when you arrive."})]})]}),(0,s.jsx)(ek,{children:(0,s.jsx)(b,{onClick:()=>S(!1),children:"Close"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(eM,{children:[(0,s.jsx)(ew,{children:"Book Valet Service"}),(0,s.jsxs)(eP,{children:["Select date and time for valet parking at ",n.name]})]}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:n.valetPartner}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:n.address})]}),(0,s.jsxs)(w,{className:"bg-purple-600 hover:bg-purple-700",children:["Member Rate: RM",P]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)(eT.A,{className:"w-4 h-4 mr-2"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:["Selected Date: ",k]})]}),(0,s.jsx)("div",{className:"text-xs text-gray-500 pl-6",children:"Today's date is used for this demo. A real implementation would include a date picker."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Available Time Slots"})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:eJ.map(e=>(0,s.jsx)(b,{variant:d===e?"default":"outline",className:"text-xs h-8",onClick:()=>m(e),children:e},e))})]}),v&&(0,s.jsx)("div",{className:"mt-4 text-sm text-red-500 bg-red-50 p-2 rounded",children:v})]}),(0,s.jsxs)(ek,{children:[(0,s.jsx)(b,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,s.jsx)(b,{onClick:A,disabled:!d||u,children:u?"Booking...":"Reserve Valet"})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(eM,{children:[(0,s.jsx)(ew,{children:"Exclusive Valet Service for ParkLah Members"}),(0,s.jsx)(eP,{children:"Get premium access to valet parking services at exclusive member rates."})]}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[(0,s.jsx)("h4",{className:"font-medium text-purple-800 mb-2",children:"Member Benefits:"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-purple-500 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,s.jsx)("span",{className:"text-sm",children:"Exclusive member rates (25% off standard valet pricing)"})]}),(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-purple-500 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,s.jsx)("span",{className:"text-sm",children:"Guaranteed parking spot with no waiting"})]}),(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-purple-500 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,s.jsx)("span",{className:"text-sm",children:"Convenient in-app booking and payment"})]})]})]}),(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:n.valetPartner}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["at ",n.name]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Standard Rate"}),(0,s.jsxs)("div",{className:"font-medium",children:["RM",n.valetBaseRate]})]})]}),(0,s.jsxs)("div",{className:"border-t border-dashed mt-2 pt-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"font-medium text-purple-700",children:"Member Rate"}),(0,s.jsxs)("div",{className:"font-medium text-purple-700",children:["RM",P]})]}),(0,s.jsxs)("div",{className:"text-xs text-green-600",children:["You save RM",n.valetBaseRate-P]})]})]})]}),(0,s.jsxs)(ek,{children:[(0,s.jsx)(b,{variant:"outline",onClick:()=>S(!1),children:"Maybe Later"}),(0,s.jsx)(b,{onClick:l,className:"bg-purple-600 hover:bg-purple-700",children:"Subscribe Now"})]})]})})}):null},eF=[{id:1,name:"Pavilion KL Parking",address:"Jalan Bukit Bintang, Bukit Bintang",lat:3.1492139,lng:101.7135278,capacity:1800,pricePerHour:6,isLegal:!0,type:"mall",walkTime:2,peakHours:"10AM-10PM",availabilityDescription:"Good chance of finding parking",findingProbability:75,trafficFrequency:[20,15,10,8,12,25,45,65,80,85,90,95,85,75,70,80,85,90,85,70,55,40,30,25],entrances:[{name:"Main Entrance",description:"Via Jalan Bukit Bintang"},{name:"Side Entrance",description:"Via Jalan Raja Chulan"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Moderate"}],tips:"Best to arrive before 11AM on weekends. Valet service available.",hasValetService:!0,valetPartner:"Pavilion Valet Luxe",valetBaseRate:30},{id:2,name:"KLCC Suria Mall Parking",address:"Kuala Lumpur City Centre, 50088",lat:3.1573751,lng:101.7123808,capacity:5400,pricePerHour:5,isLegal:!0,type:"mall",walkTime:5,peakHours:"9AM-11PM",availabilityDescription:"Large parking complex with many spots",findingProbability:85,trafficFrequency:[15,10,8,5,10,20,40,70,85,95,98,95,90,85,80,85,90,95,90,75,60,45,30,20],entrances:[{name:"P1 Entrance",description:"Via Jalan Ampang"},{name:"P2 Entrance",description:"Via Persiaran KLCC"},{name:"Mall Entrance",description:"Direct mall access"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Moderate"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Very crowded on weekends. Use P2 entrance for less congestion.",hasValetService:!0,valetPartner:"KLCC Valet Premium",valetBaseRate:25},{id:3,name:"Street Parking - Jalan Alor",address:"Jalan Alor, Bukit Bintang, 50200",lat:3.1458721907041074,lng:101.70890872430671,capacity:40,pricePerHour:3,isLegal:!0,type:"street",walkTime:1,peakHours:"6PM-12AM",availabilityDescription:"Few spots, arrive early",findingProbability:35,trafficFrequency:[10,8,5,5,8,15,25,35,40,45,50,55,60,65,70,75,85,95,90,80,70,50,30,15],entrances:[{name:"From Jalan Bukit Bintang",description:"Turn right into Jalan Alor"},{name:"From Jalan Changkat",description:"Direct access"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Low"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-2AM)",status:"High"}],tips:"Food street gets very busy after 7PM. Limited spots, arrive early."},{id:4,name:"Unauthorized - Jalan P. Ramlee",address:"Jalan P. Ramlee, Golden Triangle, 50250",lat:3.1550234,lng:101.7086407,capacity:15,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:2,peakHours:"High risk during office hours",availabilityDescription:"Risky but often available",findingProbability:80,trafficFrequency:[5,5,5,5,10,20,40,80,90,85,80,75,70,75,80,85,90,85,70,50,30,20,10,8],entrances:[{name:"Roadside",description:"⚠️ Risk of summons RM50-150"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Not recommended. High chance of summons during business hours."},{id:5,name:"Berjaya Times Square Parking",address:"1, Jalan Imbi, Bukit Bintang, 55100",lat:3.142222,lng:101.710556,capacity:2200,pricePerHour:4,isLegal:!0,type:"mall",walkTime:4,peakHours:"11AM-9PM",availabilityDescription:"Plenty of spaces",findingProbability:90,trafficFrequency:[15,12,10,8,12,20,35,50,60,65,70,75,70,65,60,65,70,75,70,60,45,35,25,20],entrances:[{name:"Main Entrance",description:"Via Jalan Imbi"},{name:"West Entrance",description:"Via Jalan Pudu"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Large capacity, usually has spaces available. Good backup option."},{id:6,name:"Starling Mall Parking",address:"No. 6, Jalan SS 21/37, Damansara Utama, 47400",lat:3.134716,lng:101.623136,capacity:1800,pricePerHour:3,isLegal:!0,type:"mall",walkTime:3,peakHours:"11AM-9PM",availabilityDescription:"Good availability on weekdays",findingProbability:80,trafficFrequency:[10,8,5,5,10,20,40,60,70,75,80,85,80,75,70,75,85,90,85,70,50,35,20,10],entrances:[{name:"Main Entrance",description:"Via SS21/37"},{name:"LG Entrance",description:"Via SS21/1A"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Validate parking at the mall information counter for discounted rates."},{id:7,name:"Uptown Street Parking",address:"Jalan SS 21/39, Damansara Utama, 47400",lat:3.134444,lng:101.621389,capacity:120,pricePerHour:2,isLegal:!0,type:"street",walkTime:1,peakHours:"12PM-2PM, 7PM-10PM",availabilityDescription:"Limited street parking",findingProbability:45,trafficFrequency:[15,10,8,5,10,30,50,70,80,70,65,75,80,65,60,70,85,95,90,80,60,40,25,15],entrances:[{name:"Roadside",description:"Along Jalan SS21/39"},{name:"Side Streets",description:"Around Uptown area"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Moderate"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Moderate"}],tips:"Pay using Touch 'n Go eWallet or the parking machine. Active enforcement in this area."},{id:8,name:"1 Utama Shopping Centre",address:"1, Lebuh Bandar Utama, Bandar Utama, 47800",lat:3.14815,lng:101.6158417,capacity:1e4,pricePerHour:3,isLegal:!0,type:"mall",walkTime:7,peakHours:"11AM-10PM",availabilityDescription:"Massive parking complex",findingProbability:95,trafficFrequency:[10,5,5,5,8,15,35,55,70,80,85,90,95,90,85,80,85,90,80,65,50,35,25,15],entrances:[{name:"New Wing",description:"Via Lebuh Bandar Utama"},{name:"Old Wing",description:"Via Dataran Bandar Utama"},{name:"Centre Court",description:"Via Lebuh Bandar Utama"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Very High"},{time:"Night (10PM-12AM)",status:"Moderate"}],tips:"Use the LG parking floors for better availability. E-payment options available.",hasValetService:!0,valetPartner:"1U Valet Services",valetBaseRate:20},{id:9,name:"Paradigm Mall PJ",address:"1, Jalan SS 7/26A, Kelana Jaya, 47301",lat:3.105083,lng:101.595944,capacity:4500,pricePerHour:3,isLegal:!0,type:"mall",walkTime:5,peakHours:"12PM-9PM",availabilityDescription:"Good availability most times",findingProbability:85,trafficFrequency:[10,8,5,5,8,20,35,45,60,70,80,85,80,75,70,75,85,90,80,65,50,30,20,10],entrances:[{name:"Main Entrance",description:"Via Jalan SS7/26A"},{name:"East Entrance",description:"Via Lebuhraya Damansara-Puchong"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Higher floors usually have more available spaces. Free parking with minimum purchase."},{id:10,name:"Atria Shopping Gallery",address:"Jalan SS 22/23, Damansara Jaya, 47400",lat:3.12725,lng:101.616411,capacity:1700,pricePerHour:2,isLegal:!0,type:"mall",walkTime:3,peakHours:"12PM-8PM",availabilityDescription:"Usually has available spaces",findingProbability:80,trafficFrequency:[8,5,5,5,10,20,30,45,55,65,70,75,70,65,60,65,75,80,70,55,40,25,15,10],entrances:[{name:"Main Entrance",description:"Via Jalan SS22/23"},{name:"Side Entrance",description:"Via Jalan SS22/19"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Low"},{time:"Afternoon (12PM-6PM)",status:"Moderate"},{time:"Evening (6PM-10PM)",status:"High"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"First hour free with validation. Weekend parking can get crowded during events."},{id:11,name:"Unauthorized - Jalan Raja Laut",address:"Jalan Raja Laut, 50350",lat:3.16046,lng:101.695206,capacity:12,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:4,peakHours:"8AM-6PM",availabilityDescription:"Often available but high risk of summons",findingProbability:80,trafficFrequency:[5,5,5,5,10,30,50,80,90,85,80,75,70,75,80,85,90,85,70,50,30,20,10,5],entrances:[{name:"Roadside",description:"Along Jalan Raja Laut – frequent patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Very risky—avoid during peak enforcement hours."},{id:12,name:"Unauthorized - Jalan Ipoh",address:"Jalan Ipoh, 51208",lat:3.174444,lng:101.686111,capacity:8,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:8,peakHours:"7AM-5PM",availabilityDescription:"Spots usually free but heavily monitored",findingProbability:60,trafficFrequency:[10,10,10,10,15,25,40,60,75,80,85,80,75,70,65,70,75,80,70,50,30,20,15,10],entrances:[{name:"Side Alley",description:"Between Jalan Ipoh and Jalan Sultan Azlan Shah"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Enforcement tends to slack off after 6PM but still use at your own risk."},{id:13,name:"Unauthorized - Jalan Pudu (near Pudu Sentral)",address:"Jalan Pudu, Pudu Sentral, 55100",lat:3.14556,lng:101.70083,capacity:10,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:3,peakHours:"6AM-2PM",availabilityDescription:"Rarely full but constant risk of summons",findingProbability:70,trafficFrequency:[15,15,15,15,20,35,55,75,85,80,75,70,65,60,55,60,65,70,60,45,30,20,15,10],entrances:[{name:"Bus Terminal Side",description:"Between Pudu Sentral entrance and main road"}],busyTimes:[{time:"Morning (6AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"Moderate Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Summons officers patrol continuously—consider other options."},{id:14,name:"Unauthorized - Jalan Sultan Ismail",address:"Jalan Sultan Ismail, 50250",lat:3.1552829,lng:101.7053617,capacity:9,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:2,peakHours:"9AM-7PM",availabilityDescription:"Often empty but heavy fines apply",findingProbability:65,trafficFrequency:[20,20,20,20,25,45,65,85,95,90,85,80,75,70,65,70,75,80,70,55,35,25,20,15],entrances:[{name:"Frontage",description:"Roadside near Grand Millennium Hotel"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Fines here can exceed RM150—park elsewhere if possible."},{id:15,name:"Unauthorized - Jalan Sultan Mohammed",address:"Jalan Sultan Mohammed, 50050",lat:3.1418658,lng:101.6954367,capacity:7,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:5,peakHours:"10AM-4PM",availabilityDescription:"Frequent openings but patrols are regular",findingProbability:60,trafficFrequency:[10,10,10,10,20,40,60,80,90,85,80,75,70,65,60,65,70,75,65,50,30,20,15,10],entrances:[{name:"Side Lane",description:"Opposite Central Market side street"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Best avoided—central enforcement is strict in this area."},{id:16,name:"Unauthorized - Jalan SS 2/1",address:"Jalan SS 2/1, SS2, 47300 Petaling Jaya",lat:3.1112,lng:101.611,capacity:10,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:5,peakHours:"8AM-6PM",availabilityDescription:"Often available but high risk of summons",findingProbability:80,trafficFrequency:[5,5,5,5,10,20,40,80,90,85,80,75,70,75,80,85,90,85,70,50,30,20,10,5],entrances:[{name:"Roadside",description:"Along SS2/1 – frequent patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Very risky—avoid during peak enforcement hours."},{id:17,name:"Unauthorized - Jalan 14/1",address:"Jalan 14/1, Seksyen 14, 46100 Petaling Jaya",lat:3.1050201,lng:101.6369018,capacity:8,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:7,peakHours:"7AM-5PM",availabilityDescription:"Spots usually free but heavily monitored",findingProbability:60,trafficFrequency:[10,10,10,10,15,25,40,60,75,80,85,80,75,70,65,70,75,80,70,50,30,20,15,10],entrances:[{name:"Side Lane",description:"Between Jalan 14/1 and Jalan 14/3"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Enforcement tends to slack off after hours but still at your own risk."},{id:18,name:"Unauthorized - Jalan Gasing",address:"Jalan Gasing, 46000 Petaling Jaya",lat:3.0983,lng:101.652339,capacity:12,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:6,peakHours:"9AM-7PM",availabilityDescription:"Often empty but fines apply",findingProbability:65,trafficFrequency:[20,20,20,20,25,45,65,85,95,90,85,80,75,70,65,70,75,80,70,55,35,25,20,15],entrances:[{name:"Roadside",description:"Opposite commercial shops – heavy patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Best avoided during office hours."},{id:19,name:"Unauthorized - Jalan Templer",address:"Jalan Templer, 46000 Petaling Jaya",lat:3.0878383,lng:101.6528161,capacity:7,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:8,peakHours:"6AM-4PM",availabilityDescription:"Frequent openings but patrols are regular",findingProbability:60,trafficFrequency:[10,10,10,10,20,40,60,80,90,85,80,75,70,65,60,65,70,75,65,50,30,20,15,10],entrances:[{name:"Frontage",description:"Roadside near banks – vigilant enforcement"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"High Risk"},{time:"Evening (6PM-10PM)",status:"Moderate Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Summons often exceed RM100 here."},{id:20,name:"Unauthorized - Jalan SS 21/1–62",address:"Jalan SS 21/1–62, 47400 Petaling Jaya",lat:3.1367399,lng:101.6207152,capacity:9,pricePerHour:0,isLegal:!1,type:"illegal",walkTime:4,peakHours:"8AM-6PM",availabilityDescription:"Rarely full but constant risk of summons",findingProbability:70,trafficFrequency:[15,15,15,15,20,35,55,75,85,80,75,70,65,60,55,60,65,70,60,45,30,20,15,10],entrances:[{name:"Roadside",description:"Along SS21 – regular patrols"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"High Risk"},{time:"Afternoon (12PM-6PM)",status:"Moderate Risk"},{time:"Evening (6PM-10PM)",status:"Low Risk"},{time:"Night (10PM-12AM)",status:"Low Risk"}],tips:"⚠️ Officers patrol continuously—consider legal alternatives."},{id:21,name:"Outdoor Parking - Kampung Pandan",address:"Kampung Pandan, 55100 Kuala Lumpur",lat:3.125306,lng:101.673972,capacity:30,pricePerHour:2,isLegal:!0,type:"outdoor",walkTime:5,peakHours:"7AM-8PM",availabilityDescription:"Open parking area with moderate availability",findingProbability:65,trafficFrequency:[15,15,15,20,35,55,70,85,80,75,70,65,60,65,70,75,80,75,65,50,40,30,20,15],entrances:[{name:"Main Entrance",description:"Via main road"}],busyTimes:[{time:"Morning (8AM-12PM)",status:"Moderate"},{time:"Afternoon (12PM-6PM)",status:"High"},{time:"Evening (6PM-10PM)",status:"Moderate"},{time:"Night (10PM-12AM)",status:"Low"}],tips:"Good alternative to mall parking. Images available in place1 folder."},{id:22,name:"Kampung Pandan Roadside Parking",address:"Jalan Kampung Pandan Dalam, Kampung Pandan Dalam, 55100 Kuala Lumpur",lat:3.1235934,lng:101.6729305,capacity:20,pricePerHour:2,isLegal:!0,type:"street",walkTime:3,peakHours:"7:30 AM - 9:30 AM, 5:00 PM - 7:00 PM",availabilityDescription:"Moderate availability on weekdays, high on weekends",findingProbability:80,trafficFrequency:[20,15,10,10,15,20,30,60,80,90,85,75,70,65,60,55,50,45,40,35,30,25,22,20],entrances:[{name:"Main Roadside Zone",description:"Legal street parking along Kampung Pandan Dalam road with clear road markings"},{name:"Secondary Zone",description:"Additional spaces available behind the shops"}],busyTimes:[{time:"Morning (8AM-10AM)",status:"High occupancy"},{time:"Afternoon (12PM-2PM)",status:"Moderate occupancy"},{time:"Evening (6PM-8PM)",status:"High occupancy"},{time:"Late night (10PM-12AM)",status:"Low occupancy"}],tips:"Payment is required using the parking machines along the roadside. Display ticket clearly on dashboard."},{id:23,name:"12, Lorong Abdullah Parking",address:"12, Lorong Abdullah, Bangsar, 59000 Kuala Lumpur",lat:3.1289567,lng:101.6766321,capacity:40,pricePerHour:0,isLegal:!0,type:"structure",walkTime:2,peakHours:"8:00 AM - 11:00 AM, 6:00 PM - 9:00 PM",availabilityDescription:"Good availability during off-peak hours, limited during morning and evening peak times",findingProbability:85,trafficFrequency:[25,20,15,10,15,20,30,40,50,55,60,65,70,75,80,85,90,95,90,85,70,55,40,30],entrances:[{name:"Main Entrance",description:"Enter from Lorong Abdullah street entrance"},{name:"Back Entry",description:"Alternative entry from the rear of the building accessible from Jalan Ara"}],busyTimes:[{time:"Morning (8AM-11AM)",status:"Low occupancy"},{time:"Afternoon (12PM-2PM)",status:"Moderate occupancy"},{time:"Evening (6PM-9PM)",status:"High occupancy"},{time:"Late night (10PM-12AM)",status:"Moderate occupancy"}],tips:"Fixed rate of RM12 per entry per day. Pay at the automated machine before leaving."}];var ez=t(9509);function e_(){let[e,a]=(0,i.useState)(null),[t,h]=(0,i.useState)(""),[x,g]=(0,i.useState)("all"),[f,y]=(0,i.useState)("all"),[v,k]=(0,i.useState)(!1),[P,A]=(0,i.useState)(!1),[R,K]=(0,i.useState)(new Date),[C,E]=(0,i.useState)(!1),[J,V]=(0,i.useState)("map"),[B,F]=(0,i.useState)(!1),[z,I]=(0,i.useState)(null),{isSubscribed:O}=(0,eD.R)(),Y=function(){let[e,a]=(0,i.useState)({latitude:null,longitude:null,error:null,loading:!0});return(0,i.useEffect)(()=>{if(!navigator.geolocation){a({...e,error:"Geolocation is not supported by your browser",loading:!1});return}let t=navigator.geolocation.watchPosition(e=>{a({latitude:e.coords.latitude,longitude:e.coords.longitude,error:null,loading:!1})},t=>{a({...e,error:t.message,loading:!1})},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});return()=>{navigator.geolocation.clearWatch(t)}},[]),e}();(0,i.useEffect)(()=>{let e=setTimeout(()=>A(!0),1e3);return()=>clearTimeout(e)},[]),(0,i.useEffect)(()=>{let e=setInterval(()=>{K(new Date)},6e4);return()=>clearInterval(e)},[]);let ee=(0,i.useMemo)(()=>eF.map(e=>{let a=function(e,a,t,s){if(null===e||null===a)return 99999;let i=em(t-e),n=em(s-a),r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(em(e))*Math.cos(em(t))*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371}(Y.latitude,Y.longitude,e.lat,e.lng),t=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"driving";return Math.round(e/({driving:30,walking:5,transit:20})[a]*60)}(a,"driving");return{...e,distanceKm:a,estimatedDriveTimeMin:t}}).sort((e,a)=>(e.distanceKm||99999)-(a.distanceKm||99999)),[Y.latitude,Y.longitude]),ea=(0,i.useMemo)(()=>ee.filter(e=>{if(t){let a=t.toLowerCase();if(!(e.name.toLowerCase().includes(a)||e.address.toLowerCase().includes(a)))return!1}return("legal"!==x||!!e.isLegal)&&("illegal"!==x||!e.isLegal)&&("valet"!==f||!!e.hasValetService)&&("no-valet"!==f||!e.hasValetService)}),[ee,t,x,f]),et=e=>e>=70?"text-green-600":e>=50?"text-yellow-600":e>=30?"text-orange-600":"text-red-600",es=e=>{switch(e){case"Low":return"text-green-600";case"Moderate":return"text-yellow-600";case"High":return"text-orange-600";case"Very High":case"High Risk":case"Moderate Risk":case"Low Risk":return"text-red-600";default:return"text-gray-600"}},ei=e=>{let a=R.getHours(),t=e.trafficFrequency[a];return Math.max(5,Math.min(95,Math.round((100-t)/100*e.findingProbability)))};return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-background w-full max-w-md mx-auto overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 border-b bg-white sticky top-0 z-20",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,s.jsx)(j,{placeholder:"Find parking near...",value:t,onChange:e=>h(e.target.value),className:"pl-10 text-sm"})]}),(0,s.jsxs)(S,{children:[(0,s.jsx)(L,{asChild:!0,children:(0,s.jsxs)(b,{size:"icon",variant:"outline",className:"h-10 w-12 px-2",children:[(0,s.jsx)(r.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Filter"})]})}),(0,s.jsxs)(H,{side:"bottom",className:"h-[380px] sm:h-[480px] sm:max-w-lg sm:rounded-lg sm:border",children:[(0,s.jsx)(T,{children:(0,s.jsx)(D,{children:"Filter Parking Spots"})}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium",children:"Legal Status"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(b,{variant:"all"===x?"default":"outline",className:"flex-1 h-9",onClick:()=>g("all"),children:"All"}),(0,s.jsxs)(b,{variant:"legal"===x?"default":"outline",className:"flex-1 h-9",onClick:()=>g("legal"),children:[(0,s.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"Legal"]}),(0,s.jsxs)(b,{variant:"illegal"===x?"default":"outline",className:"flex-1 h-9",onClick:()=>g("illegal"),children:[(0,s.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Illegal"]})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium",children:"Valet Service"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(b,{variant:"all"===f?"default":"outline",className:"flex-1 h-9",onClick:()=>y("all"),children:"All"}),(0,s.jsxs)(b,{variant:"valet"===f?"default":"outline",className:"flex-1 h-9",onClick:()=>y("valet"),children:[(0,s.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"With Valet"]}),(0,s.jsx)(b,{variant:"no-valet"===f?"default":"outline",className:"flex-1 h-9",onClick:()=>y("no-valet"),children:"No Valet"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"mb-2 text-sm font-medium",children:"Sort By"}),(0,s.jsxs)(_,{defaultValue:"distance",children:[(0,s.jsx)(q,{className:"w-full",children:(0,s.jsx)(U,{placeholder:"Sort By"})}),(0,s.jsxs)(W,{children:[(0,s.jsx)(G,{value:"distance",children:"Distance"}),(0,s.jsx)(G,{value:"price",children:"Price (Low to High)"}),(0,s.jsx)(G,{value:"success",children:"Success Rate"})]})]})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)(b,{className:"w-full",variant:"outline",onClick:()=>{g("all"),y("all")},children:"Reset All Filters"})})]})]})]})]}),(0,s.jsxs)("div",{className:"relative bg-gray-100 transition-all duration-300 ".concat("map"===J?"h-[60vh]":"h-[20vh]"),children:[(0,s.jsx)(en,{apiKey:ez.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||"",parkingSpots:ea,selectedSpotId:null==e?void 0:e.id,onSpotSelect:e=>a(e),onValetSelect:e=>{I(e),F(!0)},userLocation:Y}),(0,s.jsx)(b,{className:"absolute bottom-6 right-4 rounded-full w-12 h-12 shadow-lg",size:"icon",children:(0,s.jsx)(d.A,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"bg-white border-t overflow-y-auto transition-all duration-300 ".concat("list"===J?"flex-1 max-h-[80vh]":"max-h-80"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 sticky top-0 z-10 bg-white border-b",children:[(0,s.jsx)("h3",{className:"font-medium text-sm",children:"Parking Knowledge Base"}),(0,s.jsx)(b,{size:"sm",variant:"ghost",className:"h-8",onClick:()=>V("map"===J?"list":"map"),children:"map"===J?"Show List":"Show Map"})]}),e?(0,s.jsxs)("div",{className:"p-4 mb-20",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-base",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.address}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[e.isLegal?(0,s.jsxs)(w,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:[(0,s.jsx)(l.A,{className:"w-3 h-3 mr-1"}),"Legal"]}):(0,s.jsxs)(w,{variant:"destructive",className:"text-xs",children:[(0,s.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Unauthorized"]}),(0,s.jsx)(w,{variant:"outline",className:"text-xs",children:e.type})]})]}),(0,s.jsx)(b,{onClick:()=>a(null),variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(et(ei(e))),children:[ei(e),"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-xl font-bold",children:["RM",e.pricePerHour]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Per Hour"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-xl font-bold",children:[e.walkTime,"min"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Walk"})]})]}),(0,s.jsxs)("div",{className:"mb-4 bg-gray-50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("h4",{className:"font-medium text-sm flex items-center",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-1"}),"Traffic Frequency"]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:R.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"flex items-end gap-px h-16 mb-1",children:e.trafficFrequency.map((e,a)=>(0,s.jsx)("div",{className:"bg-blue-400 rounded-t flex-1 min-w-0 transition-all",style:{height:"".concat(e/100*100,"%")},title:"".concat(a,":00 - ").concat(e,"% busy")},a))}),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-[5]",style:{left:"".concat((R.getHours()+R.getMinutes()/60)/24*100,"%")},children:(0,s.jsx)("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-red-500 rounded-full"})}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,s.jsx)("span",{children:"12AM"}),(0,s.jsx)("span",{children:"6AM"}),(0,s.jsx)("span",{children:"12PM"}),(0,s.jsx)("span",{children:"6PM"}),(0,s.jsx)("span",{children:"12AM"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 mt-2",children:["Current traffic: ",e.trafficFrequency[R.getHours()],"% busy"]})]}),(0,s.jsx)("div",{className:"mb-4 bg-gray-50 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-800",children:e.availabilityDescription})]})}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-1"}),"Entrances & Access"]}),(0,s.jsx)("div",{className:"space-y-2",children:e.entrances.map((e,a)=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"font-medium text-xs",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]},a))})]}),(0,s.jsxs)("div",{className:"mb-4 bg-blue-50 rounded-lg p-3",children:[(0,s.jsx)("h4",{className:"font-medium text-sm mb-1 text-blue-800",children:"\uD83D\uDCA1 Local Tips"}),(0,s.jsx)("p",{className:"text-xs text-blue-700",children:e.tips})]}),v&&(0,s.jsxs)(Z,{defaultValue:"busy-times",className:"mb-4",children:[(0,s.jsxs)(Q,{className:"grid w-full grid-cols-2 h-8",children:[(0,s.jsx)(X,{value:"busy-times",className:"text-xs",children:"Busy Times"}),(0,s.jsx)(X,{value:"info",className:"text-xs",children:"Details"})]}),(0,s.jsx)($,{value:"busy-times",className:"mt-3",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-xs font-medium flex items-center",children:[(0,s.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"Typical Busy Periods"]}),e.busyTimes.map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsx)("span",{children:e.time}),(0,s.jsx)("span",{className:"font-medium ".concat(es(e.status)),children:e.status})]},a))]})}),(0,s.jsx)($,{value:"info",className:"mt-3",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-xs font-medium",children:["Peak Hours: ",e.peakHours]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.isLegal?"Standard rate: RM".concat(e.pricePerHour,"/hour"):"Risk of fines: RM50-150"}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Capacity: ",e.capacity," vehicles"]})]})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(b,{className:"flex-1 h-9 text-sm",onClick:()=>E(!0),children:[(0,s.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Navigate"]}),e.hasValetService&&(0,s.jsxs)(b,{variant:"outline",className:"flex-1 h-9 text-sm",onClick:()=>{I(e),F(!0)},children:[(0,s.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Book Valet"]})]}),(0,s.jsx)(ef,{open:C,onOpenChange:E,spot:e,userLocation:Y}),(0,s.jsx)(eB,{open:B,onOpenChange:F,spot:z})]}):(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"space-y-2 mb-20",children:ea.map(e=>(0,s.jsx)(N,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a(e),children:(0,s.jsx)(M,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-medium text-sm truncate",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-600 truncate mb-1",children:e.address}),(0,s.jsxs)("div",{className:"flex flex-1 justify-between items-center mb-1",children:[e.isLegal?(0,s.jsx)(w,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:"Legal"}):(0,s.jsx)(w,{variant:"destructive",className:"text-xs",children:"Risk"}),e.hasValetService&&(0,s.jsxs)(w,{variant:"outline",className:"ml-1 text-xs bg-purple-50 text-purple-600 border-purple-200",children:[(0,s.jsx)(c.A,{className:"h-3 w-3 mr-1"}),"Valet"]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.walkTime,"min walk"]})]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.availabilityDescription}),e.hasValetService&&(0,s.jsx)("div",{className:"flex items-center mt-0.5",children:(0,s.jsxs)(w,{variant:"outline",className:"text-[10px] py-0 px-1 h-4 bg-purple-50 text-purple-600 border-purple-200",children:[(0,s.jsx)(c.A,{className:"h-2 w-2 mr-0.5"}),"Valet Available"]})})]}),(0,s.jsxs)("div",{className:"text-right ml-2",children:[(0,s.jsxs)("div",{className:"font-semibold text-sm ".concat(et(ei(e))),children:[ei(e),"%"]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["RM",e.pricePerHour,"/hr"]})]})]})})},e.id))})})]}),(0,s.jsx)(eH,{})]})}},8076:(e,a,t)=>{"use strict";t.d(a,{R:()=>r,SubscriptionProvider:()=>l});var s=t(5155),i=t(2115);let n=(0,i.createContext)({subscriptionStatus:"free",isSubscribed:!1,subscriptionExpiry:null,upgradeSubscription:()=>{},cancelSubscription:()=>{}}),r=()=>(0,i.useContext)(n),l=e=>{let{children:a}=e,[t,r]=(0,i.useState)("free"),[l,o]=(0,i.useState)(null),c="premium"===t&&!!l&&new Date<l;return(0,i.useEffect)(()=>{let e=localStorage.getItem("parklah_subscription");if(e)try{let{status:a,expiry:t}=JSON.parse(e);if("premium"===a){let e=new Date(t);e>new Date?(r("premium"),o(e)):localStorage.removeItem("parklah_subscription")}}catch(e){console.error("Error parsing subscription data:",e)}},[]),(0,s.jsx)(n.Provider,{value:{subscriptionStatus:t,isSubscribed:c,subscriptionExpiry:l,upgradeSubscription:()=>{r("premium");let e=new Date;e.setDate(e.getDate()+30),o(e),localStorage.setItem("parklah_subscription",JSON.stringify({status:"premium",expiry:e.toISOString()}))},cancelSubscription:()=>{r("free"),o(null),localStorage.removeItem("parklah_subscription")}},children:a})}},9106:(e,a,t)=>{"use strict";function s(){return"/parklah"}function i(e){return e.startsWith("/")?"".concat(s()).concat(e):e}t.d(a,{D:()=>s,h:()=>i})},9314:(e,a,t)=>{Promise.resolve().then(t.bind(t,6564))}},e=>{var a=a=>e(e.s=a);e.O(0,[84,863,441,684,358],()=>a(9314)),_N_E=e.O()}]);